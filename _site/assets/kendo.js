!function(e,t){t("kendo.core.min",["jquery"],e)}(function(){return function(e,t,n){function i(){}function r(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),i=e.substring(1);return"="===n?"+("+i+")+":":"===n?"+$kendoHtmlEncode("+i+")+":";"+e+";$kendoOutput+="}function a(e,t,n){return e+="",t=t||2,n=t-e.length,n?U[t].substring(0,n)+e:e}function s(e){var t=e.css(ye.support.transitions.css+"box-shadow")||e.css("box-shadow"),n=t?t.match(Pe)||[0,0,0,0,0]:[0,0,0,0,0],i=Te.max(+n[3],+(n[4]||0));return{left:-n[1]+i,right:+n[1]+i,bottom:+n[2]+i}}function o(n,i){var r,a,s,o,u,d,c=Me.browser,f=ye._outerWidth,h=ye._outerHeight,g=n.parent(),p=f(t);return g.removeClass("k-animation-container-sm"),g.hasClass("k-animation-container")?l(n,i):(a=n[0].style.width,s=n[0].style.height,o=De.test(a),u=De.test(s),d=n.hasClass("k-tooltip")||n.is(".k-menu-horizontal.k-context-menu"),r=o||u,!o&&(!i||i&&a||d)&&(a=i?f(n)+1:f(n)),(!u&&(!i||i&&s)||n.is(".k-menu-horizontal.k-context-menu"))&&(s=h(n)),n.wrap(e("<div/>").addClass("k-animation-container").css({width:a,height:s})),g=n.parent(),r&&n.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),p<f(g)&&(g.addClass("k-animation-container-sm"),l(n,i)),c.msie&&Te.floor(c.version)<=7&&(n.css({zoom:1}),n.children(".k-menu").width(n.width())),g}function l(e,t){var n,i=ye._outerWidth,r=ye._outerHeight,a=e.parent(".k-animation-container"),s=a[0].style;a.is(":hidden")&&a.css({display:"",position:""}),n=De.test(s.width)||De.test(s.height),n||a.css({width:t?i(e)+1:i(e),height:r(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function u(e){var t=1,n=arguments.length;for(t=1;t<n;t++)d(e,arguments[t]);return e}function d(e,n){var i,r,a,s,o,l=ye.data.ObservableArray,u=ye.data.LazyObservableArray,c=ye.data.DataSource,f=ye.data.HierarchicalDataSource;for(i in n)r=n[i],a=typeof r,s=a===Ie&&null!==r?r.constructor:null,!s||s===Array||s===l||s===u||s===c||s===f||s===RegExp||ye.isFunction(t.ArrayBuffer)&&s===ArrayBuffer?a!==Ne&&(e[i]=r):r instanceof Date?e[i]=new Date(r.getTime()):E(r.clone)?e[i]=r.clone():(o=e[i],e[i]=typeof o===Ie?o||{}:{},d(e[i],r));return e}function c(e,t,i){for(var r in t)if(t.hasOwnProperty(r)&&t[r].test(e))return r;return i!==n?i:e}function f(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function h(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function g(t,n){var i,r={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){r[t]=i.getPropertyValue(t)})):(i=t.currentStyle,n&&e.each(n,function(e,t){r[t]=i[h(t)]})),ye.size(r)||(r=i),r}function p(e){if(e&&e.className&&"string"==typeof e.className&&e.className.indexOf("k-auto-scrollable")>-1)return!0;var t=g(e,["overflow"]).overflow;return"auto"==t||"scroll"==t}function m(t,i){var r,a=Me.browser.webkit,s=Me.browser.mozilla,o=t instanceof e?t[0]:t;if(t)return r=Me.isRtl(t),i===n?r&&a?o.scrollWidth-o.clientWidth-o.scrollLeft:Math.abs(o.scrollLeft):(o.scrollLeft=r&&a?o.scrollWidth-o.clientWidth-i:r&&s?-i:i,n)}function _(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function v(e,n,i){var r,a,s;return n||(n="offset"),r=e[n](),a={top:r.top,right:r.right,bottom:r.bottom,left:r.left},Me.browser.msie&&(Me.pointers||Me.msPointers)&&!i&&(s=Me.isRtl(e)?1:-1,a.top-=t.pageYOffset-document.documentElement.scrollTop,a.left-=t.pageXOffset+s*document.documentElement.scrollLeft),a}function y(e){var t={};return we("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function b(e){return new ye.effects.Element(e)}function w(e,t,n,i){return typeof e===Ae&&(E(t)&&(i=t,t=400,n=!1),E(n)&&(i=n,n=!1),typeof t===He&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:i}),be({effects:{},duration:400,reverse:!1,init:xe,teardown:xe,hide:!1},e,{completeCallback:e.complete,complete:xe})}function S(t,n,i,r,a){for(var s,o=0,l=t.length;o<l;o++)s=e(t[o]),s.queue(function(){V.promise(s,w(n,i,r,a))});return t}function k(e,t,n,i){return t&&(t=t.split(" "),we(t,function(t,n){e.toggleClass(n,i)})),e}function x(e){return(""+e).replace($,"&amp;").replace(J,"&lt;").replace(K,"&gt;").replace(Y,"&quot;").replace(Q,"&#39;")}function T(e){var n;try{n=t.decodeURIComponent(e)}catch(t){n=e.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,function(e,t,n){return String.fromCharCode(parseInt("0x"+(t||n),16))})}return n}function C(e,t){var i;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(se,"-$1"),i=e.getAttribute("data-"+ye.ns+t),null===i?i=n:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:Fe.test(i)&&"mask"!=t?i=parseFloat(i):re.test(i)&&!ae.test(i)&&(i=Function("return ("+i+")")()),i}function M(t,i,r){var a,s,o={},l=t.getAttribute("data-"+ye.ns+"role");for(a in i)s=C(t,a),s!==n&&(ie.test(a)&&"drawer"!=l&&("string"==typeof s?e("#"+s).length?s=ye.template(e("#"+s).html()):r&&(s=ye.template(r[s])):s=t.getAttribute(a)),o[a]=s);return o}function D(t,n){return e.contains(t,n)?-1:1}function z(){var t=e(this);return e.inArray(t.attr("data-"+ye.ns+"role"),["slider","rangeslider","breadcrumb"])>-1||t.is(":visible")}function P(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&F(e)}function F(t){return e.expr.pseudos.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function O(e,t){return new O.fn.init(e,t)}var A,E,I,R,H,N,G,q,B,L,j,U,W,V,$,J,Y,Q,K,Z,X,ee,te,ne,ie,re,ae,se,oe,le,ue,de,ce,fe,he,ge,pe,me,_e,ve,ye=t.kendo=t.kendo||{cultures:{}},be=e.extend,we=e.each,Se=e.isArray,ke=e.proxy,xe=e.noop,Te=Math,Ce=t.JSON||{},Me={},De=/%/,ze=/\{(\d+)(:[^\}]+)?\}/g,Pe=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,Fe=/^(\+|-?)\d+(\.?)\d*$/,Oe="function",Ae="string",Ee="number",Ie="object",Re="null",He="boolean",Ne="undefined",Ge={},qe={},Be=[].slice,Le=function(){var e,t,i,r,a,s,o=arguments[0]||{},l=1,u=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[l]||{},l++),"object"==typeof o||jQuery.isFunction(o)||(o={}),l===u&&(o=this,l--);l<u;l++)if(null!=(a=arguments[l]))for(r in a)"filters"!=r&&"concat"!=r&&":"!=r&&(e=o[r],i=a[r],o!==i&&(d&&i&&(jQuery.isPlainObject(i)||(t=jQuery.isArray(i)))?(t?(t=!1,s=e&&jQuery.isArray(e)?e:[]):s=e&&jQuery.isPlainObject(e)?e:{},o[r]=Le(d,s,i)):i!==n&&(o[r]=i)));return o};ye.version="2020.2.513".replace(/^\s+|\s+$/g,""),i.extend=function(e){var t,n,i=function(){},r=this,a=e&&e.init?e.init:function(){r.apply(this,arguments)};i.prototype=r.prototype,n=a.fn=a.prototype=new i;for(t in e)n[t]=null!=e[t]&&e[t].constructor===Object?be(!0,{},i.prototype[t],e[t]):e[t];return n.constructor=a,a.extend=r.extend,a},i.prototype._initOptions=function(e){this.options=u({},this.options,e)},E=ye.isFunction=function(e){return"function"==typeof e},I=function(){this._defaultPrevented=!0},R=function(){return this._defaultPrevented===!0},H=i.extend({init:function(){this._events={}},bind:function(e,t,i){var r,a,s,o,l,u=this,d=typeof e===Ae?[e]:e,c=typeof t===Oe;if(t===n){for(r in e)u.bind(r,e[r]);return u}for(r=0,a=d.length;r<a;r++)e=d[r],o=c?t:t[e],o&&(i&&(s=o,o=function(){u.unbind(e,o),s.apply(u,arguments)},o.original=s),l=u._events[e]=u._events[e]||[],l.push(o));return u},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,i,r,a,s=this,o=typeof e===Ae?[e]:e,l=typeof t===Oe;for(n=0,i=o.length;n<i;n++)e=o[n],r=l?t:t[e],r&&(a=s._events[e]=s._events[e]||[],a.unshift(r));return s},trigger:function(e,t){var n,i,r=this,a=r._events[e];if(a){for(t=t||{},t.sender=r,t._defaultPrevented=!1,t.preventDefault=I,t.isDefaultPrevented=R,a=a.slice(),n=0,i=a.length;n<i;n++)a[n].call(r,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var i,r=this,a=r._events[e];if(e===n)r._events={};else if(a)if(t)for(i=a.length-1;i>=0;i--)a[i]!==t&&a[i].original!==t||a.splice(i,1);else r._events[e]=[];return r}}),N=/^\w+/,G=/\$\{([^}]*)\}/g,q=/\\\}/g,B=/__CURLY__/g,L=/\\#/g,j=/__SHARP__/g,U=["","0","00","000","0000"],A={paramName:"data",useWithBlock:!0,render:function(e,t){var n,i,r="";for(n=0,i=t.length;n<i;n++)r+=e(t[n]);return r},compile:function(e,t){var n,i,a,s=be({},this,t),o=s.paramName,l=o.match(N)[0],u=s.useWithBlock,d="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(E(e))return e;for(d+=u?"with("+o+"){":"",d+="$kendoOutput=",i=e.replace(q,"__CURLY__").replace(G,"#=$kendoHtmlEncode($1)#").replace(B,"}").replace(L,"__SHARP__").split("#"),a=0;a<i.length;a++)d+=r(i[a],a%2===0);d+=u?";}":";",d+="return $kendoOutput;",d=d.replace(j,"#");try{return n=Function(l,d),n._slotCount=Math.floor(i.length/2),n}catch(t){throw Error(ye.format("Invalid template:'{0}' Generated code:'{1}'",e,d))}}},function(){function e(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=o[e];return typeof t===Ae?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(a,s){var o,u,d,c,f,h,g=n,p=s[a];if(p&&typeof p===Ie&&typeof p.toJSON===Oe&&(p=p.toJSON(a)),typeof r===Oe&&(p=r.call(s,a,p)),h=typeof p,h===Ae)return e(p);if(h===Ee)return isFinite(p)?p+"":Re;if(h===He||h===Re)return p+"";if(h===Ie){if(!p)return Re;if(n+=i,f=[],"[object Array]"===l.apply(p)){for(c=p.length,o=0;o<c;o++)f[o]=t(o,p)||Re;return d=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+g+"]":"["+f.join(",")+"]",n=g,d}if(r&&typeof r===Ie)for(c=r.length,o=0;o<c;o++)typeof r[o]===Ae&&(u=r[o],d=t(u,p),d&&f.push(e(u)+(n?": ":":")+d));else for(u in p)Object.hasOwnProperty.call(p,u)&&(d=t(u,p),d&&f.push(e(u)+(n?": ":":")+d));return d=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+g+"}":"{"+f.join(",")+"}",n=g,d}}var n,i,r,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l={}.toString;typeof Date.prototype.toJSON!==Oe&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?a(e.getUTCFullYear(),4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof Ce.stringify!==Oe&&(Ce.stringify=function(e,a,s){var o;if(n="",i="",typeof s===Ee)for(o=0;o<s;o+=1)i+=" ";else typeof s===Ae&&(i=s);if(r=a,a&&typeof a!==Oe&&(typeof a!==Ie||typeof a.length!==Ee))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function t(e){if(e){if(e.numberFormat)return e;if(typeof e===Ae){var t=ye.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function i(e){return e&&(e=t(e)),e||ye.cultures.current}function r(e,t,r){r=i(r);var s=r.calendars.standard,o=s.days,l=s.months;return t=s.patterns[t]||t,t.replace(d,function(t){var i,r,u;return"d"===t?r=e.getDate():"dd"===t?r=a(e.getDate()):"ddd"===t?r=o.namesAbbr[e.getDay()]:"dddd"===t?r=o.names[e.getDay()]:"M"===t?r=e.getMonth()+1:"MM"===t?r=a(e.getMonth()+1):"MMM"===t?r=l.namesAbbr[e.getMonth()]:"MMMM"===t?r=l.names[e.getMonth()]:"yy"===t?r=a(e.getFullYear()%100):"yyyy"===t?r=a(e.getFullYear(),4):"h"===t?r=e.getHours()%12||12:"hh"===t?r=a(e.getHours()%12||12):"H"===t?r=e.getHours():"HH"===t?r=a(e.getHours()):"m"===t?r=e.getMinutes():"mm"===t?r=a(e.getMinutes()):"s"===t?r=e.getSeconds():"ss"===t?r=a(e.getSeconds()):"f"===t?r=Te.floor(e.getMilliseconds()/100):"ff"===t?(r=e.getMilliseconds(),r>99&&(r=Te.floor(r/10)),r=a(r)):"fff"===t?r=a(e.getMilliseconds(),3):"tt"===t?r=e.getHours()<12?s.AM[0]:s.PM[0]:"zzz"===t?(i=e.getTimezoneOffset(),u=i<0,r=(""+Te.abs(i/60)).split(".")[0],i=Te.abs(i)-60*r,r=(u?"+":"-")+a(r),r+=":"+a(i)):"zz"!==t&&"z"!==t||(r=e.getTimezoneOffset()/60,u=r<0,r=(""+Te.abs(r)).split(".")[0],r=(u?"+":"-")+("zz"===t?a(r):r)),r!==n?r:t.slice(1,t.length-1)})}function s(e,t,r){var a,s,u,d,b,w,S,k,x,T,C,M,D,z,P,F,O,A,E,I,R,H,N,G,q,B,L,j,U,W,V,$,J,Y;if(r=i(r),a=r.numberFormat,s=a[p],u=a.decimals,d=a.pattern[0],b=[],C=e<0,F=g,O=g,V=-1,e===n)return g;if(!isFinite(e))return e;if(!t)return r.name.length?e.toLocaleString():""+e;if(T=c.exec(t)){if(t=T[1].toLowerCase(),S="c"===t,k="p"===t,(S||k)&&(a=S?a.currency:a.percent,s=a[p],u=a.decimals,w=a.symbol,d=a.pattern[C?0:1]),x=T[2],x&&(u=+x),"e"===t)return J=x?e.toExponential(u):e.toExponential(),J.replace(p,a[p]);if(k&&(e*=100),e=l(e,u),C=e<0,e=e.split(p),M=e[0],D=e[1],C&&(M=M.substring(1)),O=o(M,0,M.length,a),D&&(O+=s+D),"n"===t&&!C)return O;for(e=g,A=0,E=d.length;A<E;A++)I=d.charAt(A),e+="n"===I?O:"$"===I||"%"===I?w:I;return e}if((t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)&&(t=t.replace(f,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return b.push(n),y})),t=t.split(";"),C&&t[1])t=t[1],H=!0;else if(0===e&&t[2]){if(t=t[2],t.indexOf(_)==-1&&t.indexOf(v)==-1)return t}else t=t[0];if(j=t.indexOf("%"),U=t.indexOf("$"),k=j!=-1,S=U!=-1,k&&(e*=100),S&&"\\"===t[U-1]&&(t=t.split("\\").join(""),S=!1),(S||k)&&(a=S?a.currency:a.percent,s=a[p],u=a.decimals,w=a.symbol),R=t.indexOf(m)>-1,R&&(t=t.replace(h,g)),N=t.indexOf(p),E=t.length,N!=-1)if(D=(""+e).split("e"),D=D[1]?l(e,Math.abs(D[1])):D[0],D=D.split(p)[1]||g,q=t.lastIndexOf(v)-N,G=t.lastIndexOf(_)-N,B=q>-1,L=G>-1,A=D.length,B||L||(t=t.substring(0,N)+t.substring(N+1),E=t.length,N=-1,A=0),B&&q>G)A=q;else if(G>q)if(L&&A>G){for(Y=l(e,G,C);Y.charAt(Y.length-1)===v&&G>0&&G>q;)G--,Y=l(e,G,C);A=G}else B&&A<q&&(A=q);if(e=l(e,A,C),G=t.indexOf(_),W=q=t.indexOf(v),V=G==-1&&q!=-1?q:G!=-1&&q==-1?G:G>q?q:G,G=t.lastIndexOf(_),q=t.lastIndexOf(v),$=G==-1&&q!=-1?q:G!=-1&&q==-1?G:G>q?G:q,V==E&&($=V),V!=-1){for(O=(""+e).split(p),M=O[0],D=O[1]||g,z=M.length,P=D.length,C&&e*-1>=0&&(C=!1),e=t.substring(0,V),C&&!H&&(e+="-"),A=V;A<E;A++){if(I=t.charAt(A),N==-1){if($-A<z){e+=M;break}}else if(q!=-1&&q<A&&(F=g),N-A<=z&&N-A>-1&&(e+=M,A=N),N===A){e+=(D?s:g)+D,A+=$-N+1;continue}I===v?(e+=I,F=I):I===_&&(e+=F)}if(R&&(e=o(e,V+(C&&!H?1:0),Math.max($,z+V),a)),$>=V&&(e+=t.substring($+1)),S||k){for(O=g,A=0,E=e.length;A<E;A++)I=e.charAt(A),O+="$"===I||"%"===I?w:I;e=O}if(E=b.length)for(A=0;A<E;A++)e=e.replace(y,b[A])}return e}var o,l,u,d=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,c=/^(n|c|p|e)(\d*)$/i,f=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,h=/\,/g,g="",p=".",m=",",_="#",v="0",y="??",b="en-US",w={}.toString;ye.cultures["en-US"]={name:b,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},ye.culture=function(e){var i,r=ye.cultures;return e===n?r.current:(i=t(e)||r[b],i.calendar=i.calendars.standard,r.current=i,n)},ye.findCulture=t,ye.getCulture=i,ye.culture(b),o=function(e,t,i,r){var a,s,o,l,u,d,c=e.indexOf(r[p]),f=r.groupSize.slice(),h=f.shift();if(i=c!==-1?c:i+1,a=e.substring(t,i),s=a.length,s>=h){for(o=s,l=[];o>-1;)if(u=a.substring(o-h,o),u&&l.push(u),o-=h,d=f.shift(),h=d!==n?d:h,0===h){o>0&&l.push(a.substring(0,o));break}a=l.reverse().join(r[m]),e=e.substring(0,t)+a+e.substring(i)}return e},l=function(e,t,n){return t=t||0,e=(""+e).split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),n&&(e=-e),e=(""+e).split("e"),e=+(e[0]+"e"+(e[1]?+e[1]-t:-t)),e.toFixed(Math.min(t,20))},u=function(e,t,i){if(t){if("[object Date]"===w.call(e))return r(e,t,i);if(typeof e===Ee)return s(e,t,i)}return e!==n?e:""},ye.format=function(e){var t=arguments;return e.replace(ze,function(e,n,i){var r=t[parseInt(n,10)+1];return u(r,i?i.substring(1):"")})},ye._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},ye._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},ye._round=l,ye._outerWidth=function(t,n){return e(t).outerWidth(n||!1)||0},ye._outerHeight=function(t,n){return e(t).outerHeight(n||!1)||0},ye.toString=u}(),function(){function t(e,t,n){return!(e>=t&&e<=n)}function i(e){return e.charAt(0)}function r(t){return e.map(t,i)}function a(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function s(e){for(var t=0,n=e.length,i=[];t<n;t++)i[t]=(e[t]+"").toLowerCase();return i}function o(e){var t,n={};for(t in e)n[t]=s(e[t]);return n}function l(e,i,s,l){if(!e)return null;var u,d,c,f,h,m,_,v,y,w,S,k,x,T=function(e){for(var t=0;i[H]===e;)t++,H++;return t>0&&(H-=1),t},C=function(t){var n=b[t]||RegExp("^\\d{1,"+t+"}"),i=e.substr(N,t).match(n);return i?(i=i[0],N+=i.length,parseInt(i,10)):null},M=function(t,n){for(var i,r,a,s=0,o=t.length,l=0,u=0;s<o;s++)i=t[s],r=i.length,a=e.substr(N,r),n&&(a=a.toLowerCase()),a==i&&r>l&&(l=r,u=s);return l?(N+=l,u+1):null},D=function(){var t=!1;return e.charAt(N)===i[H]&&(N++,t=!0),t},z=s.calendars.standard,P=null,F=null,O=null,A=null,E=null,I=null,R=null,H=0,N=0,G=!1,q=new Date,B=z.twoDigitYearMax||2029,L=q.getFullYear();for(i||(i="d"),f=z.patterns[i],f&&(i=f),i=i.split(""),c=i.length;H<c;H++)if(u=i[H],G)"'"===u?G=!1:D();else if("d"===u){if(d=T("d"),z._lowerDays||(z._lowerDays=o(z.days)),null!==O&&d>2)continue;if(O=d<3?C(2):M(z._lowerDays[3==d?"namesAbbr":"names"],!0),null===O||t(O,1,31))return null}else if("M"===u){if(d=T("M"),z._lowerMonths||(z._lowerMonths=o(z.months)),F=d<3?C(2):M(z._lowerMonths[3==d?"namesAbbr":"names"],!0),null===F||t(F,1,12))return null;F-=1}else if("y"===u){if(d=T("y"),P=C(d),null===P)return null;2==d&&("string"==typeof B&&(B=L+parseInt(B,10)),P=L-L%100+P,P>B&&(P-=100))}else if("h"===u){if(T("h"),A=C(2),12==A&&(A=0),null===A||t(A,0,11))return null}else if("H"===u){if(T("H"),A=C(2),null===A||t(A,0,23))return null}else if("m"===u){if(T("m"),E=C(2),null===E||t(E,0,59))return null}else if("s"===u){if(T("s"),I=C(2),null===I||t(I,0,59))return null}else if("f"===u){if(d=T("f"),x=e.substr(N,d).match(b[3]),R=C(d),null!==R&&(R=parseFloat("0."+x[0],10),R=ye._round(R,3),R*=1e3),null===R||t(R,0,999))return null}else if("t"===u){if(d=T("t"),v=z.AM,y=z.PM,1===d&&(v=r(v),y=r(y)),h=M(y),!h&&!M(v))return null}else if("z"===u){if(m=!0,d=T("z"),"Z"===e.substr(N,1)){D();continue}if(_=e.substr(N,6).match(d>2?p:g),!_)return null;if(_=_[0].split(":"),w=_[0],S=_[1],!S&&w.length>3&&(N=w.length-2,S=w.substring(N),w=w.substring(0,N)),w=parseInt(w,10),t(w,-12,13))return null;if(d>2&&(S=_[0][0]+S,S=parseInt(S,10),isNaN(S)||t(S,-59,59)))return null}else if("'"===u)G=!0,D();else if(!D())return null;return l&&!/^\s*$/.test(e.substr(N))?null:(k=null!==A||null!==E||I||null,null===P&&null===F&&null===O&&k?(P=L,F=q.getMonth(),O=q.getDate()):(null===P&&(P=L),null===O&&(O=1)),h&&A<12&&(A+=12),m?(w&&(A+=-w),S&&(E+=-S),e=new Date(Date.UTC(P,F,O,A,E,I,R))):(e=new Date(P,F,O,A,E,I,R),a(e,A)),P<100&&e.setFullYear(P),e.getDate()!==O&&m===n?null:e)}function u(e){var t="-"===e.substr(0,1)?-1:1;return e=e.substring(1),e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),t*e}function d(e){var t,n,i,r=Te.max(v.length,y.length),a=e.calendar||e.calendars.standard,s=a.patterns,o=[];for(i=0;i<r;i++){for(t=v[i],n=0;n<t.length;n++)o.push(s[t[n]]);o=o.concat(y[i])}return o}function c(e,t,n,i){var r,a,s,o;if("[object Date]"===w.call(e))return e;if(r=0,a=null,e&&0===e.indexOf("/D")&&(a=m.exec(e)))return a=a[1],o=_.exec(a.substring(1)),a=new Date(parseInt(a,10)),o&&(o=u(o[0]),a=ye.timezone.apply(a,0),a=ye.timezone.convert(a,0,-1*o)),a;for(n=ye.getCulture(n),t||(t=d(n)),t=Se(t)?t:[t],s=t.length;r<s;r++)if(a=l(e,t[r],n,i))return a;return a}var f=/\u00A0/g,h=/[eE][\-+]?[0-9]+/,g=/[+|\-]\d{1,2}/,p=/[+|\-]\d{1,2}:?\d{2}/,m=/^\/Date\((.*?)\)\/$/,_=/[+-]\d*/,v=[[],["G","g","F"],["D","d","y","m","T","t"]],y=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],b={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},w={}.toString;ye.parseDate=function(e,t,n){return c(e,t,n,!1)},ye.parseExactDate=function(e,t,n){return c(e,t,n,!0)},ye.parseInt=function(e,t){var n=ye.parseFloat(e,t);return n&&(n|=0),n},ye.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===Ee)return e;e=""+e,t=ye.getCulture(t);var i,r,a=t.numberFormat,s=a.percent,o=a.currency,l=o.symbol,u=s.symbol,d=e.indexOf("-");return h.test(e)?(e=parseFloat(e.replace(a["."],".")),isNaN(e)&&(e=null),e):d>0?null:(d=d>-1,e.indexOf(l)>-1||n&&n.toLowerCase().indexOf("c")>-1?(a=o,i=a.pattern[0].replace("$",l).split("n"),e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1&&(e=e.replace(i[0],"").replace(i[1],""),d=!0)):e.indexOf(u)>-1&&(r=!0,a=s,l=u),e=e.replace("-","").replace(l,"").replace(f," ").split(a[","].replace(f," ")).join("").replace(a["."],"."),e=parseFloat(e),isNaN(e)?e=null:d&&(e*=-1),e&&r&&(e/=100),e)}}(),function(){var i,r,a,s,o,l,u,d,f,h,g,p;Me._scrollbar=n,Me.scrollbar=function(e){if(isNaN(Me._scrollbar)||e){var t,n=document.createElement("div");return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),Me._scrollbar=t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t}return Me._scrollbar},Me.isRtl=function(t){return e(t).closest(".k-rtl").length>0},i=document.createElement("table");try{i.innerHTML="<tr><td></td></tr>",Me.tbodyInnerHtml=!0}catch(e){Me.tbodyInnerHtml=!1}Me.touch="ontouchstart"in t,r=document.documentElement.style,a=Me.transitions=!1,s=Me.transforms=!1,o="HTMLElement"in t?HTMLElement.prototype:[],Me.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in r||"msPerspective"in r,Me.cssFlexbox="flexWrap"in r||"WebkitFlexWrap"in r||"msFlexWrap"in r,we(["Moz","webkit","O","ms"],function(){var e,t=""+this,n=typeof i.style[t+"Transition"]===Ae;if(n||typeof i.style[t+"Transform"]===Ae)return e=t.toLowerCase(),s={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},n&&(a=s,a.event=a.event?a.event+"TransitionEnd":"transitionend"),!1}),i=null,Me.transforms=s,Me.transitions=a,Me.devicePixelRatio=t.devicePixelRatio===n?1:t.devicePixelRatio;try{Me.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,Me.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(e){Me.screenWidth=t.screen.availWidth,Me.screenHeight=t.screen.availHeight}Me.detectOS=function(e){var n,i,r=!1,a=[],s=!/mobile safari/i.test(e),o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},u={tablet:/playbook|ipad|fire/i},d={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(i in o)if(o.hasOwnProperty(i)&&(a=e.match(o[i]))){if("windows"==i&&"plugins"in navigator)return!1;r={},r.device=i,r.tablet=c(i,u,!1),r.browser=c(e,d,"default"),r.name=c(i,l),r[r.name]=!0,r.majorVersion=a[2],r.minorVersion=(a[3]||"0").replace("_","."),n=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+n+Array(3-(n.length<3?n.length:2)).join("0"),r.cordova=typeof t.PhoneGap!==Ne||typeof t.cordova!==Ne,r.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||r.cordova,r.android&&(Me.devicePixelRatio<1.5&&r.flatVersion<400||s)&&(Me.screenWidth>800||Me.screenHeight>800)&&(r.tablet=i);break}return r},l=Me.mobileOS=Me.detectOS(navigator.userAgent),Me.wpDevicePixelRatio=l.wp?screen.width/320:0,Me.hasNativeScrolling=!1,(l.ios||l.android&&l.majorVersion>2||l.wp)&&(Me.hasNativeScrolling=l),Me.delayedClick=function(){if(Me.touch){if(l.ios)return!0;if(l.android)return!Me.browser.chrome||!(Me.browser.version<32)&&!(e("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},Me.mouseAndTouchPresent=Me.touch&&!(Me.mobileOS.ios||Me.mobileOS.android),Me.detectBrowser=function(e){var t,n=!1,i=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in r)if(r.hasOwnProperty(t)&&(i=e.match(r[t]))){n={},n[t]=!0,n[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||i[2],10);break}return n},Me.browser=Me.detectBrowser(navigator.userAgent),Me.detectClipboardAccess=function(){var e={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return Me.browser.chrome&&(e.paste=!1,Me.browser.version>=43&&(e.copy=!0,e.cut=!0)),e},Me.clipboard=Me.detectClipboardAccess(),Me.zoomLevel=function(){var e,n,i;try{return e=Me.browser,n=0,i=document.documentElement,e.msie&&11==e.version&&i.scrollHeight>i.clientHeight&&!Me.touch&&(n=Me.scrollbar()),Me.touch?i.clientWidth/t.innerWidth:e.msie&&e.version>=10?((top||t).document.documentElement.offsetWidth+n)/(top||t).innerWidth:1}catch(e){return 1}},Me.cssBorderSpacing=n!==r.borderSpacing&&!(Me.browser.msie&&Me.browser.version<8),function(t){var n="",i=e(document.documentElement),r=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera?n="opera":t.edge&&(n="edge"),n&&(n="k-"+n+" k-"+n+r),Me.mobileOS&&(n+=" k-mobile"),Me.cssFlexbox||(n+=" k-no-flexbox"),i.addClass(n)}(Me.browser),Me.eventCapture=document.documentElement.addEventListener,u=document.createElement("input"),Me.placeholder="placeholder"in u,Me.propertyChangeEvent="onpropertychange"in u,Me.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,i="test",r={},a=0;a<n;a++)e=t[a],u.setAttribute("type",e),u.value=i,r[e.replace("-","")]="text"!==u.type&&u.value!==i;return r}(),u.style.cssText="float:left;",Me.cssFloat=!!u.style.cssFloat,u=null,Me.stableSort=function(){var e,t=513,n=[{index:0,field:"b"}];for(e=1;e<t;e++)n.push({index:e,field:"a"});return n.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0}),1===n[0].index}(),Me.matchesSelector=o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.matchesSelector||o.matches||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),i=n.length;i--;)if(n[i]==this)return!0;return!1},Me.matchMedia="matchMedia"in t,Me.pushState=t.history&&t.history.pushState,d=document.documentMode,Me.hashChange="onhashchange"in t&&!(Me.browser.msie&&(!d||d<=8)),Me.customElements="registerElement"in t.document,f=Me.browser.chrome,h=Me.browser.crios,g=Me.browser.mozilla,p=Me.browser.safari,Me.msPointers=!f&&t.MSPointerEvent,Me.pointers=!f&&!h&&!g&&!p&&t.PointerEvent,Me.kineticScrollNeeded=l&&(Me.touch||Me.msPointers||Me.pointers)}(),W={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},V={},e.extend(V,{enabled:!0,Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),V.promiseShim=V.promise,"kendoAnimate"in e.fn||be(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,i){return S(this,e,t,n,i)},kendoAddClass:function(e,t){return ye.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return ye.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return ye.toggleClass(this,e,t,n)}}),$=/&/g,J=/</g,Y=/"/g,Q=/'/g,K=/>/g,Z=function(e){return e.target},Me.touch&&(Z=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},we(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),Me.touch?Me.mobileOS?(Me.mousedown="touchstart",Me.mouseup="touchend",Me.mousemove="touchmove",Me.mousecancel="touchcancel",Me.click="touchend",Me.resize="orientationchange"):(Me.mousedown="mousedown touchstart",Me.mouseup="mouseup touchend",Me.mousemove="mousemove touchmove",Me.mousecancel="mouseleave touchcancel",Me.click="click",Me.resize="resize"):Me.pointers?(Me.mousemove="pointermove",Me.mousedown="pointerdown",Me.mouseup="pointerup",Me.mousecancel="pointercancel",Me.click="pointerup",Me.resize="orientationchange resize"):Me.msPointers?(Me.mousemove="MSPointerMove",Me.mousedown="MSPointerDown",Me.mouseup="MSPointerUp",Me.mousecancel="MSPointerCancel",Me.click="MSPointerUp",Me.resize="orientationchange resize"):(Me.mousemove="mousemove",Me.mousedown="mousedown",Me.mouseup="mouseup",Me.mousecancel="mouseleave",Me.click="click",Me.resize="resize"),X=function(e,t){var n,i,r,a,s=t||"d",o=1;for(i=0,r=e.length;i<r;i++)a=e[i],""!==a&&(n=a.indexOf("["),0!==n&&(n==-1?a="."+a:(o++,a="."+a.substring(0,n)+" || {})"+a.substring(n))),o++,s+=a+(i<r-1?" || {})":")"));return Array(o).join("(")+s},ee=/^([a-z]+:)?\/\//i,be(ye,{widgets:[],_widgetRegisteredCallbacks:[],ui:ye.ui||{},fx:ye.fx||b,effects:ye.effects||V,mobile:ye.mobile||{},data:ye.data||{},dataviz:ye.dataviz||{},drawing:ye.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:ye.support||Me,animate:ye.animate||S,ns:"",attr:function(e){return"data-"+ye.ns+e},getShadows:s,wrap:o,deepExtend:u,getComputedStyles:g,isScrollable:p,scrollLeft:m,size:_,toCamelCase:h,toHyphens:f,getOffset:ye.getOffset||v,parseEffects:ye.parseEffects||y,toggleClass:ye.toggleClass||k,directions:ye.directions||W,Observable:H,Class:i,Template:A,template:ke(A.compile,A),render:ke(A.render,A),stringify:ke(Ce.stringify,Ce),eventTarget:Z,htmlEncode:x,unescape:T,isLocalUrl:function(e){return e&&!ee.test(e)},expr:function(e,t,n){return e=e||"",typeof t==Ae&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),t?(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),e=X(e.split("."),n),e=e.replace(/_\$DOT\$_/g,".")):e=n+e,e},getter:function(e,t){var n=e+t;return Ge[n]=Ge[n]||Function("d","return "+ye.expr(e,t))},setter:function(e){return qe[e]=qe[e]||Function("d,value",ye.expr(e)+"=value")},accessor:function(e){return{get:ye.getter(e),set:ye.setter(e)}},guid:function(){var e,t,n="";for(e=0;e<32;e++)t=16*Te.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(n+="-"),
n+=(12==e?4:16==e?3&t|8:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+ye.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t,n=e.split(" ");if(n)for(t=0;t<n.length;t++)"view"!=n[t]&&(n[t]=n[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return n.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,n=ye.widgets.length;t<n;t++)e(ye.widgets[t]);ye._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,i){var r=t.console;!ye.suppressLog&&n!==r&&r.log&&r[i||"log"](e)}}),te=H.extend({init:function(e,t){var n,i,r=this;r.element=ye.jQuery(e).handler(r),r.angular("init",t),H.fn.init.call(r),n=t?t.dataSource:null,t&&(i=(r.componentTypes||{})[(t||{}).componentType]),n&&(t=be({},t,{dataSource:{}})),t=r.options=be(!0,{},r.options,r.defaults,i||{},t),n&&(t.dataSource=n),r.element.attr(ye.attr("role"))||r.element.attr(ye.attr("role"),(t.name||"").toLowerCase()),r.element.data("kendo"+t.prefix+t.name,r),r.bind(r.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",i=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(i)?0:i)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){for(var t,n=this,i=0,r=n.events.length;i<r;i++)t=n.events[i],n.options[t]&&e[t]&&(n.unbind(t,n.options[t]),n._events&&n._events[t]&&delete n._events[t]);n.bind(n.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){return ye.dimensions(this.element)},size:function(e){return e?(this.setSize(e),n):this.getSize()},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=!0,e.call(this),this._muteRebind=!1}}),ne=te.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var n=this;n.angular(t,function(){return{elements:n.items(),data:e.map(n.dataItems(),function(e){return{dataItem:e}})}})}}),ye.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},ye.notify=xe,ie=/template$/i,re=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ae=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,se=/([A-Z])/g,ye.initWidget=function(i,r,a){var s,o,l,u,d,c,f,h,g,p,m,_,v;if(a?a.roles&&(a=a.roles):a=ye.ui.roles,i=i.nodeType?i:i[0],c=i.getAttribute("data-"+ye.ns+"role")){g=c.indexOf(".")===-1,l=g?a[c]:ye.getter(c)(t),m=e(i).data(),_=l?"kendo"+l.fn.options.prefix+l.fn.options.name:"",p=g?RegExp("^kendo.*"+c+"$","i"):RegExp("^"+_+"$","i");for(v in m)if(v.match(p)){if(v!==_)return m[v];s=m[v]}if(l){for(h=C(i,"dataSource"),r=e.extend({},M(i,e.extend({},l.fn.options,l.fn.defaults)),r),h&&(r.dataSource=typeof h===Ae?ye.getter(h)(t):h),u=0,d=l.fn.events.length;u<d;u++)o=l.fn.events[u],f=C(i,o),f!==n&&(r[o]=ye.getter(f)(t));return s?e.isEmptyObject(r)||s.setOptions(r):s=new l(i,r),s}}},ye.rolesFromNamespaces=function(e){var t,n,i=[];for(e[0]||(e=[ye.ui,ye.dataviz.ui]),t=0,n=e.length;t<n;t++)i[t]=e[t].roles;return be.apply(null,[{}].concat(i.reverse()))},ye.init=function(t){var n=ye.rolesFromNamespaces(Be.call(arguments,1));e(t).find("[data-"+ye.ns+"role]").addBack().each(function(){ye.initWidget(this,{},n)})},ye.destroy=function(t){e(t).find("[data-"+ye.ns+"role]").addBack().each(function(){var t,n=e(this).data();for(t in n)0===t.indexOf("kendo")&&typeof n[t].destroy===Oe&&n[t].destroy()})},ye.resize=function(t,n){var i,r=e(t).find("[data-"+ye.ns+"role]").addBack().filter(z);r.length&&(i=e.makeArray(r),i.sort(D),e.each(i,function(){var t=ye.widgetInstance(e(this));t&&t.resize(n)}))},ye.parseOptions=M,be(ye.ui,{Widget:te,DataBoundWidget:ne,roles:{},progress:function(t,n,i){var r,a,s,o,l,u=t.find(".k-loading-mask"),d=ye.support,c=d.browser;i=e.extend({},{width:"100%",height:"100%",top:t.scrollTop(),opacity:!1},i),l=i.opacity?"k-loading-mask k-opaque":"k-loading-mask",n?u.length||(r=d.isRtl(t),a=r?"right":"left",o=t.scrollLeft(),s=c.webkit&&r?t[0].scrollWidth-t.width()-2*o:0,u=e(ye.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>",l,ye.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(a,Math.abs(o)+s).prependTo(t)):u&&u.remove()},plugin:function(t,i,r){var a,s,o,l,u=t.fn.options.name;for(i=i||ye.ui,r=r||"",i[u]=t,i.roles[u.toLowerCase()]=t,a="getKendo"+r+u,u="kendo"+r+u,s={name:u,widget:t,prefix:r||""},ye.widgets.push(s),o=0,l=ye._widgetRegisteredCallbacks.length;o<l;o++)ye._widgetRegisteredCallbacks[o](s);e.fn[u]=function(i){var r,a=this;return typeof i===Ae?(r=Be.call(arguments,1),this.each(function(){var t,s,o=e.data(this,u);if(!o)throw Error(ye.format("Cannot call method '{0}' of {1} before it is initialized",i,u));if(t=o[i],typeof t!==Oe)throw Error(ye.format("Cannot find method '{0}' of {1}",i,u));if(s=t.apply(o,r),s!==n)return a=s,!1})):this.each(function(){return new t(this,i)}),a},e.fn[u].widget=t,e.fn[a]=function(){return this.data(u)}}}),ye.ui.progress.messages={loading:"Loading..."},oe={bind:function(){return this},nullObject:!0,options:{}},le=te.extend({init:function(e,t){te.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){te.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(ye.roleSelector("view splitview modalview drawer"));return ye.widgetInstance(e,ye.mobile.ui)||oe},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(ye.roleSelector("view layout modalview drawer splitview"));return ye.widgetInstance(e.eq(0),ye.mobile.ui)||oe}}),be(ye.mobile,{init:function(e){ye.init(e,ye.mobile.ui,ye.ui,ye.dataviz.ui)},appLevelNativeScrolling:function(){return ye.mobile.application&&ye.mobile.application.options&&ye.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:le,DataBoundWidget:ne.extend(le.prototype),roles:{},plugin:function(e){ye.ui.plugin(e,ye.mobile.ui,"Mobile")}}}),u(ye.dataviz,{init:function(e){ye.init(e,ye.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){ye.ui.plugin(e,ye.dataviz.ui)}},roles:{}}),ye.touchScroller=function(t,n){return n||(n={}),n.useNative=!0,e(t).map(function(t,i){return i=e(i),!(!Me.kineticScrollNeeded||!ye.mobile.ui.Scroller||i.data("kendoMobileScroller"))&&(i.kendoMobileScroller(n),i.data("kendoMobileScroller"))})[0]},ye.preventDefault=function(e){e.preventDefault()},ye.widgetInstance=function(e,n){var i,r,a,s,o,l=e.data(ye.ns+"role"),u=[],d=e.data("kendoView");if(l){if("content"===l&&(l="scroller"),"editortoolbar"===l&&(a=e.data("kendoEditorToolbar")))return a;if("view"===l&&d)return d;if(n)if(n[0])for(i=0,r=n.length;i<r;i++)u.push(n[i].roles[l]);else u.push(n.roles[l]);else u=[ye.ui.roles[l],ye.dataviz.ui.roles[l],ye.mobile.ui.roles[l]];for(l.indexOf(".")>=0&&(u=[ye.getter(l)(t)]),i=0,r=u.length;i<r;i++)if(s=u[i],s&&(o=e.data("kendo"+s.fn.options.prefix+s.fn.options.name)))return o}},ye.onResize=function(n){var i=n;return Me.mobileOS.android&&(i=function(){setTimeout(n,600)}),e(t).on(Me.resize,i),i},ye.unbindResize=function(n){e(t).off(Me.resize,n)},ye.attrValue=function(e,t){return e.data(ye.ns+t)},ye.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr.pseudos,{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return P(t,!isNaN(n)&&n>-1)}}),ue=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],de="label, input, [data-rel=external]",ce={setupMouseMute:function(){var t,n=0,i=ue.length,r=document.documentElement;if(!ce.mouseTrap&&Me.eventCapture)for(ce.mouseTrap=!0,ce.bustClick=!1,ce.captureMouse=!1,t=function(t){ce.captureMouse&&("click"===t.type?ce.bustClick&&!e(t.target).is(de)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};n<i;n++)r.addEventListener(ue[n],t,!0)},muteMouse:function(e){ce.captureMouse=!0,e.data.bustClick&&(ce.bustClick=!0),clearTimeout(ce.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(ce.mouseTrapTimeoutID),ce.mouseTrapTimeoutID=setTimeout(function(){ce.captureMouse=!1,ce.bustClick=!1},400)}},fe={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},Me.touch&&(Me.mobileOS.ios||Me.mobileOS.android)?fe={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:Me.pointers?fe={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:Me.msPointers&&(fe={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!Me.msPointers||"onmspointerenter"in t||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var i,r=this,a=t.relatedTarget,s=t.handleObj;return a&&(a===r||e.contains(r,a))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=n),i}}}),he=function(e){return fe[e]||e},ge=/([^ ]+)/g,ye.applyEventMap=function(e,t){return e=e.replace(ge,he),t&&(e=e.replace(ge,"$1."+t)),e},ye.keyDownHandler=function(e,t){var n,i,r=t._events.kendoKeydown;if(!r)return!0;for(r=r.slice(),e.sender=t,e.preventKendoKeydown=!1,n=0,i=r.length;n<i;n++)r[n].call(t,e);return!e.preventKendoKeydown},pe=e.fn.on,Le(!0,O,e),O.fn=O.prototype=new e,O.fn.constructor=O,O.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof O)&&(n=O(n)),e.fn.init.call(this,t,n,me)},O.fn.init.prototype=O.fn,me=O(document),be(O.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||ye.guid()),this},on:function(){var e,t,n,i,r,a,s,o,l=this,u=l.data("kendoNS");return 1===arguments.length?pe.call(l,arguments[0]):(e=l,t=Be.call(arguments),typeof t[t.length-1]===Ne&&t.pop(),n=t[t.length-1],i=ye.applyEventMap(t[0],u),Me.mouseAndTouchPresent&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(ce.setupMouseMute(),r=2===t.length?null:t[1],a=i.indexOf("click")>-1&&i.indexOf("touchend")>-1,pe.call(this,{touchstart:ce.muteMouse,touchend:ce.unMuteMouse},r,{bustClick:a})),arguments[0].indexOf("keydown")!==-1&&t[1]&&t[1].options?(t[0]=i,s=t[1],o=t[t.length-1],t[t.length-1]=function(e){if(ye.keyDownHandler(e,s))return o.apply(this,[e])},pe.apply(l,t),l):(typeof n===Ae&&(e=l.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=i,pe.apply(l,t),l))},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),ye.jQuery=O,ye.eventMap=fe,ye.timezone=function(){function e(e,t){var n,i,r,a=t[3],s=t[4],o=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(s)?0===s.indexOf("last")?(n=new Date(Date.UTC(e,d[a]+1,1,o[0]-24,o[1],o[2],0)),i=c[s.substr(4,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r-(i>r?7:0))):s.indexOf(">=")>=0?(n=new Date(Date.UTC(e,d[a],s.substr(5),o[0],o[1],o[2],0)),i=c[s.substr(0,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r+(i<r?7:0))):s.indexOf("<=")>=0&&(n=new Date(Date.UTC(e,d[a],s.substr(5),o[0],o[1],o[2],0)),i=c[s.substr(0,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r-(i>r?7:0))):n=new Date(Date.UTC(e,d[a],s,o[0],o[1],o[2],0)),l[e]=n)}function t(t,n,i){var r,a,s,o;return(n=n[i])?(s=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return t<=s&&(n>=s||t==s&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(s,t)),"number"!=typeof n&&(n=+e(s,n)),t-n}),o=n[jQuery.inArray(t,n)-1]||n[n.length-1],isNaN(o)?o:null):(r=i.split(":"),a=0,r.length>1&&(a=60*r[0]+ +r[1]),[-1e6,"max","-","Jan",1,[0,0,0],a,"-"])}function n(e,t,n){var i,r,a,s=t[n];if("string"==typeof s&&(s=t[s]),!s)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(i=s.length-1;i>=0&&(r=s[i][3],!(r&&e>r));i--);if(a=s[i+1],!a)throw Error('Timezone "'+n+'" not found on '+e+".");return a}function i(e,i,r,a){typeof e!=Ee&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var s=n(e,i,a);return{zone:s,rule:t(e,r,s[1])}}function r(e,t){var n,r,a;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=i(e,this.zones,this.rules,t),r=n.zone,a=n.rule,ye.parseFloat(a?r[0]-a[6]:r[0]))}function a(e,t){var n=i(e,this.zones,this.rules,t),r=n.zone,a=n.rule,s=r[2];return s.indexOf("/")>=0?s.split("/")[a&&+a[6]?1:0]:s.indexOf("%s")>=0?s.replace("%s",a&&"-"!=a[7]?a[7]:""):s}function s(e,t,n){var i,r,a,s=n;return typeof t==Ae&&(t=this.offset(e,t)),typeof n==Ae&&(n=this.offset(e,n)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),a=e.getTimezoneOffset(),typeof s==Ae&&(s=this.offset(e,s)),i=a-r+(n-s),new Date(e.getTime()+6e4*i)}function o(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function l(e,t){return this.convert(e,t,e.getTimezoneOffset())}function u(e){return this.apply(new Date(e),"Etc/UTC")}var d={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},c={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:r,convert:s,apply:o,remove:l,abbr:a,toLocalDate:u}}(),ye.date=function(){function e(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function t(t,n,i){var r=t.getHours();i=i||1,n=(n-t.getDay()+7*i)%7,t.setDate(t.getDate()+n),e(t,r)}function i(e,n,i){return e=new Date(e),t(e,n,i),e}function r(e){return new Date(e.getFullYear(),e.getMonth(),1)}function a(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=r(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t}function s(e,t){return 1!==t?g(i(e,t,-1),4):g(e,4-(e.getDay()||7))}function o(e,t){var n=new Date(e.getFullYear(),0,1,-6),i=s(e,t),r=i.getTime()-n.getTime(),a=Math.floor(r/w);return 1+Math.floor(a/7)}function l(e,t){var i,r,a;return t===n&&(t=ye.culture().calendar.firstDay),i=g(e,-7),r=g(e,7),a=o(e,t),0===a?o(i,t)+1:53===a&&o(r,t)>1?1:a}function u(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function d(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function c(e){return y(e).getTime()-u(y(e))}function f(e,t,n){var i,r=c(t),a=c(n);return!e||r==a||(t>=n&&(n+=w),i=c(e),r>i&&(i+=w),a<r&&(a+=w),i>=r&&i<=a)}function h(e,t,n){var i,r=t.getTime(),a=n.getTime();return r>=a&&(a+=w),i=e.getTime(),i>=r&&i<=a}function g(t,n){var i=t.getHours();return t=new Date(t),p(t,n*w),e(t,i),t}function p(e,t,n){var i,r=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-r,e.setTime(e.getTime()+i*b))}function m(t,n){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e(t,n.getHours()),t}function _(){return u(new Date)}function v(e){return u(e).getTime()==_().getTime()}function y(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var b=6e4,w=864e5;return{adjustDST:e,dayOfWeek:i,setDayOfWeek:t,getDate:u,isInDateRange:h,isInTimeRange:f,isToday:v,nextDay:function(e){return g(e,1)},previousDay:function(e){return g(e,-1)},toUtcTime:d,MS_PER_DAY:w,MS_PER_HOUR:60*b,MS_PER_MINUTE:b,setTime:p,setHours:m,addDays:g,today:_,toInvariantTime:y,firstDayOfMonth:r,lastDayOfMonth:a,weekInYear:l,getMilliseconds:c}}(),ye.stripWhitespace=function(e){var t,n,i;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(n=0;n<e.childNodes.length;n++)i=e.childNodes[n],3!=i.nodeType||/\S/.test(i.nodeValue)||(e.removeChild(i),n--),1==i.nodeType&&ye.stripWhitespace(i)},_e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},ye.animationFrame=function(e){_e.call(t,e)},ve=[],ye.queueAnimation=function(e){ve[ve.length]=e,1===ve.length&&ye.runNextAnimation()},ye.runNextAnimation=function(){ye.animationFrame(function(){ve[0]&&(ve.shift()(),ve[0]&&ye.runNextAnimation())})},ye.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},i=t.split(/&|=/),r=i.length,a=0;a<r;a+=2)""!==i[a]&&(n[decodeURIComponent(i[a])]=decodeURIComponent(i[a+1]));return n},ye.elementUnderCursor=function(e){if(n!==e.x.client)return document.elementFromPoint(e.x.client,e.y.client)},ye.wheelDeltaY=function(e){var t,i=e.originalEvent,r=i.wheelDeltaY;return i.wheelDelta?(r===n||r)&&(t=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10*-i.detail),t},ye.throttle=function(e,t){var i,r,a=0;return!t||t<=0?e:(r=function(){function r(){e.apply(s,l),a=+new Date}var s=this,o=+new Date-a,l=arguments;return a?(i&&clearTimeout(i),o>t?r():i=setTimeout(r,t-o),n):r()},r.cancel=function(){clearTimeout(i)},r)},ye.caret=function(t,i,r){var a,s,o,l,u,d=i!==n;if(r===n&&(r=i),t[0]&&(t=t[0]),!d||!t.disabled){try{t.selectionStart!==n?d?(t.focus(),s=Me.mobileOS,s.wp||s.android?setTimeout(function(){t.setSelectionRange(i,r)},0):t.setSelectionRange(i,r)):i=[t.selectionStart,t.selectionEnd]:document.selection&&(e(t).is(":visible")&&t.focus(),a=t.createTextRange(),d?(a.collapse(!0),a.moveStart("character",i),a.moveEnd("character",r-i),a.select()):(o=a.duplicate(),a.moveToBookmark(document.selection.createRange().getBookmark()),o.setEndPoint("EndToStart",a),l=o.text.length,u=l+a.text.length,i=[l,u]))}catch(e){i=[]}return i}},ye.compileMobileDirective=function(e,n){var i=t.angular;return e.attr("data-"+ye.ns+"role",e[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),i.element(e).injector().invoke(["$compile",function(t){t(e)(n),/^\$(digest|apply)$/.test(n.$$phase)||n.$digest()}]),ye.widgetInstance(e,ye.mobile.ui)},ye.antiForgeryTokens=function(){var t={},i=e("meta[name=csrf-token],meta[name=_csrf]").attr("content"),r=e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),r!==n&&i!==n&&(t[r]=i),t},ye.cycleForm=function(e){function t(e){var t=ye.widgetInstance(e);t&&t.focus?t.focus():e.focus()}var n=e.find("input, .k-widget").first(),i=e.find("button, .k-button").last();i.on("keydown",function(e){e.keyCode!=ye.keys.TAB||e.shiftKey||(e.preventDefault(),t(n))}),n.on("keydown",function(e){e.keyCode==ye.keys.TAB&&e.shiftKey&&(e.preventDefault(),t(i))})},ye.focusElement=function(n){var i=[],r=n.parentsUntil("body").filter(function(e,t){var n=ye.getComputedStyles(t,["overflow"]);return"visible"!==n.overflow}).add(t);r.each(function(t,n){i[t]=e(n).scrollTop()});try{n[0].setActive()}catch(e){n[0].focus()}r.each(function(t,n){e(n).scrollTop(i[t])})},ye.focusNextElement=function(){var t,n,i;document.activeElement&&(t=e(":kendoFocusable"),n=t.index(document.activeElement),n>-1&&(i=t[n+1]||t[0],i.focus()))},ye.trim=function(e){return e?(""+e).trim():""},ye.getWidgetFocusableElement=function(t){var n,i=t.closest(":kendoFocusable"),r=ye.widgetInstance(t);return n=i.length?i:r?r instanceof ye.ui.Editor?e(r.body):r.wrapper.find(":kendoFocusable").first():t},ye.addAttribute=function(e,t,n){var i=e.attr(t)||"";i.indexOf(n)<0&&e.attr(t,(i+" "+n).trim())},ye.removeAttribute=function(e,t,n){var i=e.attr(t)||"";e.attr(t,i.replace(n,"").trim())},ye.toggleAttribute=function(e,t,n){var i=e.attr(t)||"";i.indexOf(n)<0?ye.addAttribute(e,t,n):ye.removeAttribute(e,t,n)},ye.matchesMedia=function(e){var n=ye._bootstrapToMedia(e)||e;return Me.matchMedia&&t.matchMedia(n).matches},ye._bootstrapToMedia=function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]},ye.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],"disc-image":[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},ye.getFileGroup=function(e,t){var i,r,a=ye.fileGroupMap,s=Object.keys(a),o="file";if(e===n||!e.length)return o;for(i=0;i<s.length;i+=1)if(r=a[s[i]],r.indexOf(e.toLowerCase())>-1)return t?"file-"+s[i]:s[i];return o},ye.getFileSizeMessage=function(e){var t,n=["Bytes","KB","MB","GB","TB"];return 0===e?"0 Byte":(t=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10),Math.round(e/Math.pow(1024,t),2)+" "+n[t])},ye.selectorFromClasses=function(e){return"."+e.split(" ").join(".")},function(){function n(t,n,i,r){var a,s,o=e("<form>").attr({action:i,method:"POST",target:r}),l=ye.antiForgeryTokens();l.fileName=n,a=t.split(";base64,"),l.contentType=a[0].replace("data:",""),l.base64=a[1];for(s in l)l.hasOwnProperty(s)&&e("<input>").attr({value:l[s],name:s,type:"hidden"}).appendTo(o);o.appendTo("body").submit().remove()}function i(e,t){var n,i,r,a,s,o=e;if("string"==typeof e){for(n=e.split(";base64,"),i=n[0],r=atob(n[1]),a=new Uint8Array(r.length),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);o=new Blob([a.buffer],{type:i})}navigator.msSaveBlob(o,t)}function r(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),a.download=n,a.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(i),setTimeout(function(){URL.revokeObjectURL(e)})}var a=document.createElement("a"),s="download"in a&&!ye.support.browser.edge;ye.saveAs=function(e){var t=n;e.forceProxy||(s?t=r:navigator.msSaveBlob&&(t=i)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)}}(),ye.proxyModelSetters=function(e){var t={};return Object.keys(e||{}).forEach(function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t,e.dirty=!0}})}),t},function(){ye.defaults=ye.defaults||{},ye.setDefaults=function(e,t){var i=e.split("."),r=ye.defaults;e=i.pop(),i.forEach(function(e){r[e]===n&&(r[e]={}),r=r[e]}),r[e]=t.constructor===Object?u({},r[e],t):t}}()}(jQuery,window),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),!function(e,t){t("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],e)}(function(){return function(e,t){function n(e,t,n,i){return function(r){var a,s={};for(a in r)s[a]=r[a];s.field=i?n+"."+r.field:n,t==Ie&&e._notifyChange&&e._notifyChange(s),e.trigger(t,s)}}function i(t,n){if(t===n)return!0;var r,a=e.type(t),s=e.type(n);if(a!==s)return!1;if("date"===a)return t.getTime()===n.getTime();if("object"!==a&&"array"!==a)return!1;for(r in t)if(!i(t[r],n[r]))return!1;return!0}function r(e,t){var n,i;for(i in e){if(n=e[i],_e(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function a(e){this.data=e||[]}function s(e,n){if(e){var i=typeof e===De?{field:e,dir:n}:e,r=ye(i)?i:i!==t?[i]:[];return be(r,function(e){return!!e.dir})}}function o(e,n){var i,r,a,s={};if(e)for(i=typeof e===De?{field:e,dir:n}:e,r=ye(i)?i:i!==t?[i]:[],a=0;a<r.length;a++)s[r[a].field]={dir:r[a].dir,index:a+1};return s}function l(e){var t,n,i,r,a=e.filters;if(a)for(t=0,n=a.length;t<n;t++)i=a[t],r=i.operator,r&&typeof r===De&&(i.operator=ie[r.toLowerCase()]||r),l(i)}function u(e){if(e&&!ve(e))return!ye(e)&&e.filters||(e={logic:"and",filters:ye(e)?e:[e]}),l(e),e}function d(e,t){return!e.logic&&!t.logic&&e.field===t.field&&e.value===t.value&&e.operator===t.operator}function c(e){return e=e||{},ve(e)?{logic:"and",filters:[]}:u(e)}function f(e,t){return t.logic||e.field>t.field?1:e.field<t.field?-1:0}function h(e,t){var n,i,r,a,s;if(e=c(e),t=c(t),e.logic!==t.logic)return!1;if(r=(e.filters||[]).slice(),a=(t.filters||[]).slice(),r.length!==a.length)return!1;for(r=r.sort(f),a=a.sort(f),s=0;s<r.length;s++)if(n=r[s],i=a[s],n.logic&&i.logic){if(!h(n,i))return!1}else if(!d(n,i))return!1;return!0}function g(e){return ye(e)?e:[e]}function p(e,n,i,r){var a=typeof e===De?{field:e,dir:n,compare:i,skipItemSorting:r}:e,s=ye(a)?a:a!==t?[a]:[];return J(s,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates,compare:e.compare,skipItemSorting:e.skipItemSorting}})}function m(e,t,n){var i,r=p(e,t,n);for(i=0;i<r.length;i++)delete r[i].compare;return r}function _(e){var t,n=ye(e)?e:[e];for(t=0;t<n.length;t++)if(n[t]&&Te(n[t].compare))return!0;return!1}function v(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function y(e,t,n,i,r,a){var s,o,l,u,d;for(t=t||[],u=t.length,s=0;s<u;s++)o=t[s],l=o.aggregate,d=o.field,e[d]=e[d]||{},a[d]=a[d]||{},a[d][l]=a[d][l]||{},e[d][l]=re[l.toLowerCase()](e[d][l],n,xe.accessor(d),i,r,a[d][l])}function b(e){return"number"==typeof e&&!isNaN(e)}function w(e){return e&&e.getTime}function S(e){var t,n=e.length,i=Array(n);for(t=0;t<n;t++)i[t]=e[t].toJSON();return i}function k(e,t,n,i,r){var a,s,o,l,u,d={};for(l=0,u=e.length;l<u;l++){a=e[l];for(s in t)o=r[s],o&&o!==s&&(d[o]||(d[o]=xe.setter(o)),d[o](a,t[s](a)),delete a[s])}}function x(e,t,n,i,r){var a,s,o,l,u;for(l=0,u=e.length;l<u;l++){a=e[l];for(s in t)a[s]=n._parse(s,t[s](a)),o=r[s],o&&o!==s&&delete a[o]}}function T(e,t,n,i,r){var a,s,o,l;for(s=0,l=e.length;s<l;s++)a=e[s],o=i[a.field],o&&o!=a.field&&(a.field=o),a.value=n._parse(a.field,a.value),a.items&&(a.hasSubgroups?T(a.items,t,n,i,r):x(a.items,t,n,i,r))}function C(e,t,n,i,r,a){return function(s){return s=e(s),M(t,n,i,r,a)(s)}}function M(e,t,n,i,r){return function(a){return a&&!ve(n)&&("[object Array]"===et.call(a)||a instanceof it||(a=[a]),t(a,n,new e,i,r)),a||[]}}function D(e,t){var n,i,r;if(t.items&&t.items.length)for(r=0;r<t.items.length;r++)n=e.items[r],i=t.items[r],n&&i?n.hasSubgroups?D(n,i):n.field&&n.value==i.value?n.items.push.apply(n.items,i.items):e.items.push.apply(e.items,[i]):i&&e.items.push.apply(e.items,[i])}function z(e,t,n,i){for(var r,a,s,o=0;t.length&&i&&(r=t[o],a=r.items,s=a.length,e&&e.field===r.field&&e.value===r.value?(e.hasSubgroups&&e.items.length?z(e.items[e.items.length-1],r.items,n,i):(a=a.slice(n,n+i),e.items=e.items.concat(a)),t.splice(o--,1)):r.hasSubgroups&&a.length?(z(r,a,n,i),r.items.length||t.splice(o--,1)):(a=a.slice(n,n+i),r.items=a,r.items.length||t.splice(o--,1)),0===a.length?n-=s:(n=0,i-=a.length),!(++o>=t.length)););o<t.length&&t.splice(o,t.length-o)}function P(e,t){var n,i,r,a,s=[],o=(e||[]).length,l=Te(t)?t:function(e,t){return e[t]};for(r=0;r<o;r++)if(n=l(e,r),n.hasSubgroups)s=s.concat(P(n.items));else for(i=n.items,a=0;a<i.length;a++)s.push(l(i,a));return s}function F(e){var t,n,i,r,a,s=[];for(t=0,n=e.length;t<n;t++)if(a=e.at(t),a.items)if(a.hasSubgroups)s=s.concat(F(a.items));else for(i=a.items,r=0;r<i.length;r++)s.push(i.at(r));return s}function O(e,t){var n,i,r;if(t)for(n=0,i=e.length;n<i;n++)r=e.at(n),r.items&&(r.hasSubgroups?O(r.items,t):r.items=new Y(r.items,t,r.items._events))}function A(e,t){for(var n=0;n<e.length;n++)if(e[n].hasSubgroups){if(A(e[n].items,t))return!0}else if(t(e[n].items,e[n]))return!0}function E(e,t,n,i){for(var r=0;r<e.length&&e[r].data!==t&&!I(e[r].data,n,i);r++);}function I(e,t,n){for(var i=0,r=e.length;i<r;i++){if(e[i]&&e[i].hasSubgroups)return I(e[i].items,t,n);if(e[i]===t||e[i]===n)return e[i]=n,!0}}function R(e,n,i,r,a){var s,o,l,u;for(s=0,o=e.length;s<o;s++)if(l=e[s],l&&!(l instanceof r))if(l.hasSubgroups===t||a){for(u=0;u<n.length;u++)if(n[u]===l){e[s]=n.at(u),E(i,n,l,e[s]);break}}else R(l.items,n,i,r,a)}function H(e,t){var n,i,r;if(e)for(n=e.length,r=0;r<n;r++)if(i=e[r],i.uid&&i.uid==t.uid)return e.splice(r,1),i}function N(e,t){return t?q(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId}):-1}function G(e,t){return t?q(e,function(e){return e.uid==t.uid}):-1}function q(e,t){var n,i;if(e){for(n=0,i=e.length;n<i;n++)if(t(e[n]))return n;return-1}}function B(e,t){var n,i;return e&&!ve(e)?(n=e[t],i=_e(n)?n.from||n.field||t:e[t]||t,Te(i)?t:i):t}function L(e,t){var n,i,r,a={};for(r in e)"filters"!==r&&(a[r]=e[r]);if(e.filters)for(a.filters=[],n=0,i=e.filters.length;n<i;n++)a.filters[n]=L(e.filters[n],t);else a.field=B(t.fields,a.field);return a}function j(e,t){var n,i,r,a,s,o=[];for(n=0,i=e.length;n<i;n++){r={},a=e[n];for(s in a)r[s]=a[s];r.field=B(t.fields,r.field),r.aggregates&&ye(r.aggregates)&&(r.aggregates=j(r.aggregates,t)),o.push(r)}return o}function U(t,n){var i,r,a,s,o,l,u,d,c,f;for(t=e(t)[0],i=t.options,r=n[0],a=n[1],s=[],o=0,l=i.length;o<l;o++)c={},d=i[o],u=d.parentNode,u===t&&(u=null),d.disabled||u&&u.disabled||(u&&(c.optgroup=u.label),c[r.field]=d.text,f=d.attributes.value,f=f&&f.specified?d.value:d.text,c[a.field]=f,s.push(c));return s}function W(t,n){var i,r,a,s,o,l,u,d=e(t)[0].tBodies[0],c=d?d.rows:[],f=n.length,h=[];for(i=0,r=c.length;i<r;i++){for(o={},u=!0,s=c[i].cells,a=0;a<f;a++)l=s[a],"th"!==l.nodeName.toLowerCase()&&(u=!1,o[n[a].field]=l.innerHTML);u||h.push(o)}return h}function V(e){return function(){var t=this._data,n=ue.fn[e].apply(this,Ze.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}function $(t,n){function i(e,t){return e.filter(t).add(e.find(t))}var r,a,s,o,l,u,d,c,f=e(t).children(),h=[],g=n[0].field,p=n[1]&&n[1].field,m=n[2]&&n[2].field,_=n[3]&&n[3].field;for(r=0,a=f.length;r<a;r++)s={_loaded:!0},o=f.eq(r),u=o[0].firstChild,c=o.children(),t=c.filter("ul"),c=c.filter(":not(ul)"),l=o.attr("data-id"),l&&(s.id=l),u&&(s[g]=3==u.nodeType?u.nodeValue:c.text()),p&&(s[p]=i(c,"a").attr("href")),_&&(s[_]=i(c,"img").attr("src")),m&&(d=i(c,".k-sprite").prop("className"),s[m]=d&&xe.trim(d.replace("k-sprite",""))),t.length&&(s.items=$(t.eq(0),n)),"true"==o.attr("data-hasChildren")&&(s.hasChildren=!0),h.push(s);return h}var J,Y,Q,K,Z,X,ee,te,ne,ie,re,ae,se,oe,le,ue,de,ce,fe,he,ge,pe=e.extend,me=e.proxy,_e=e.isPlainObject,ve=e.isEmptyObject,ye=e.isArray,be=e.grep,we=e.ajax,Se=e.each,ke=e.noop,xe=window.kendo,Te=xe.isFunction,Ce=xe.Observable,Me=xe.Class,De="string",ze="function",Pe="asc",Fe="create",Oe="read",Ae="update",Ee="destroy",Ie="change",Re="sync",He="get",Ne="error",Ge="requestStart",qe="progress",Be="requestEnd",Le=[Fe,Oe,Ae,Ee],je=function(e){return e},Ue=xe.getter,We=xe.stringify,Ve=Math,$e=[].push,Je=[].join,Ye=[].pop,Qe=[].splice,Ke=[].shift,Ze=[].slice,Xe=[].unshift,et={}.toString,tt=xe.support.stableSort,nt=/^\/Date\((.*?)\)\/$/,it=Ce.extend({init:function(e,t){var n=this;n.type=t||Q,Ce.fn.init.call(n),n.length=e.length,n.wrapAll(e,n)},at:function(e){return this[e]},toJSON:function(e){var t,n,i=this.length,r=Array(i);for(t=0;t<i;t++)n=this[t],n instanceof Q&&(n=n.toJSON(e)),r[t]=n;return r},parent:ke,wrapAll:function(e,t){var n,i,r=this,a=function(){return r};for(t=t||[],n=0,i=e.length;n<i;n++)t[n]=r.wrap(e[n],a);return t},wrap:function(e,t){var n,i=this;return null!==e&&"[object Object]"===et.call(e)&&(n=e instanceof i.type||e instanceof X,n||(e=e instanceof Q?e.toJSON():e,e=new i.type(e)),e.parent=t,e.bind(Ie,function(e){i.trigger(Ie,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,n=this.wrapAll(arguments);return e=$e.apply(this,n),this.omitChangeEvent||this.trigger(Ie,{action:"add",index:t,items:n}),e},slice:Ze,sort:[].sort,join:Je,pop:function(){var e=this.length,t=Ye.apply(this);return e&&this.trigger(Ie,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,n){var i,r,a,s=this.wrapAll(Ze.call(arguments,2));if(i=Qe.apply(this,[e,t].concat(s)),i.length)for(this.trigger(Ie,{
action:"remove",index:e,items:i}),r=0,a=i.length;r<a;r++)i[r]&&i[r].children&&i[r].unbind(Ie);return n&&this.trigger(Ie,{action:"add",index:e,items:s}),i},shift:function(){var e=this.length,t=Ke.apply(this);return e&&this.trigger(Ie,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=Xe.apply(this,t),this.trigger(Ie,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,n,i=this;for(t=0,n=i.length;t<n;t++)if(i[t]===e)return t;return-1},forEach:function(e,t){for(var n=0,i=this.length,r=t||window;n<i;n++)e.call(r,this[n],n,this)},map:function(e,t){for(var n=0,i=[],r=this.length,a=t||window;n<r;n++)i[n]=e.call(a,this[n],n,this);return i},reduce:function(e){var t,n=0,i=this.length;for(2==arguments.length?t=arguments[1]:n<i&&(t=this[n++]);n<i;n++)t=e(t,this[n],n,this);return t},reduceRight:function(e){var t,n=this.length-1;for(2==arguments.length?t=arguments[1]:n>0&&(t=this[n--]);n>=0;n--)t=e(t,this[n],n,this);return t},filter:function(e,t){for(var n,i=0,r=[],a=this.length,s=t||window;i<a;i++)n=this[i],e.call(s,n,i,this)&&(r[r.length]=n);return r},find:function(e,t){for(var n,i=0,r=this.length,a=t||window;i<r;i++)if(n=this[i],e.call(a,n,i,this))return n},every:function(e,t){for(var n,i=0,r=this.length,a=t||window;i<r;i++)if(n=this[i],!e.call(a,n,i,this))return!1;return!0},some:function(e,t){for(var n,i=0,r=this.length,a=t||window;i<r;i++)if(n=this[i],e.call(a,n,i,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);t!==-1&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!it.prototype[Symbol.iterator]&&(it.prototype[Symbol.iterator]=[][Symbol.iterator]),Y=it.extend({init:function(e,t,n){Ce.fn.init.call(this),this.type=t||Q,n&&(this._events=n);for(var i=0;i<e.length;i++)this[i]=e[i];this.length=i,this._parent=me(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}}),Q=Ce.extend({init:function(e){var t,n,i=this,r=function(){return i};Ce.fn.init.call(this),this._handlers={};for(n in e)t=e[n],"object"==typeof t&&t&&!t.getTime&&"_"!=n.charAt(0)&&(t=i.wrap(t,n,r)),i[n]=t;i.uid=xe.guid()},shouldSerialize:function(e,t){return this.hasOwnProperty(e)&&"_handlers"!==e&&"_events"!==e&&(t&&t[e]||typeof this[e]!==ze)&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(e){var t,n,i={};for(n in this)this.shouldSerialize(n,e)&&(t=this[n],(t instanceof Q||t instanceof it)&&(t=t.toJSON(e)),i[n]=t);return i},get:function(e){var t,n=this;return n.trigger(He,{field:e}),t="this"===e?n:xe.getter(e,!0)(n)},_set:function(e,t){var n,i,r,a=this,s=e.indexOf(".")>=0;if(s)for(n=e.split("."),i="";n.length>1;){if(i+=n.shift(),r=xe.getter(i,!0)(a),r instanceof Q)return r.set(n.join("."),t),s;i+="."}return xe.setter(e)(a,t),s},set:function(e,t){var n=this,i=!1,r=e.indexOf(".")>=0,a=xe.getter(e,!0)(n);return a!==t&&(a instanceof Ce&&this._handlers[e]&&(this._handlers[e].get&&a.unbind(He,this._handlers[e].get),a.unbind(Ie,this._handlers[e].change)),i=n.trigger("set",{field:e,value:t}),i||(r||(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(Ie,{field:e}))),i},parent:ke,wrap:function(e,t,i){var r,a,s,o,l=this,u=et.call(e);return null==e||"[object Object]"!==u&&"[object Array]"!==u||(s=e instanceof it,o=e instanceof ue,"[object Object]"!==u||o||s?("[object Array]"===u||s||o)&&(s||o||(e=new it(e)),a=n(l,Ie,t,!1),e.bind(Ie,a),l._handlers[t]={change:a}):(e instanceof Q||(e=new Q(e)),r=n(l,He,t,!0),e.bind(He,r),a=n(l,Ie,t,!0),e.bind(Ie,a),l._handlers[t]={get:r,change:a}),e.parent=i),e}}),K={number:function(e){return typeof e===De&&"null"===e.toLowerCase()?null:xe.parseFloat(e)},date:function(e){return typeof e===De&&"null"===e.toLowerCase()?null:xe.parseDate(e)},"boolean":function(e){return typeof e===De?"null"===e.toLowerCase()?null:"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return typeof e===De&&"null"===e.toLowerCase()?null:null!=e?e+"":e},"default":function(e){return e}},Z={string:"",number:0,date:new Date,"boolean":!1,"default":""},X=Q.extend({init:function(n){var i,r,a=this;if((!n||e.isEmptyObject(n))&&(n=e.extend({},a.defaults,n),a._initializers))for(i=0;i<a._initializers.length;i++)r=a._initializers[i],n[r]=a.defaults[r]();Q.fn.init.call(a,n),a.dirty=!1,a.dirtyFields={},a.idField&&(a.id=a.get(a.idField),a.id===t&&(a.id=a._defaultId))},shouldSerialize:function(e){return Q.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"dirtyFields"!==e&&"_accessors"!==e},_parse:function(e,t){var n,i=this,a=e,s=i.fields||{};return e=s[e],e||(e=r(s,a)),e&&(n=e.parse,!n&&e.type&&(n=K[e.type.toLowerCase()])),n?n(t):t},_notifyChange:function(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[e.field]=!0)},editable:function(e){return e=(this.fields||{})[e],!e||e.editable!==!1},set:function(e,t){var n=this,r=n.dirty;n.editable(e)&&(t=n._parse(e,t),i(t,n.get(e))?n.trigger("equalSet",{field:e,value:t}):(n.dirty=!0,n.dirtyFields[e]=!0,Q.fn.set.call(n,e,t)&&!r&&(n.dirty=r,n.dirty||(n.dirtyFields[e]=!1))))},accept:function(e){var t,n,i=this,r=function(){return i};for(t in e)n=e[t],"_"!=t.charAt(0)&&(n=i.wrap(e[t],t,r)),i._set(t,n);i.idField&&(i.id=i.get(i.idField)),i.dirty=!1,i.dirtyFields={}},isNew:function(){return this.id===this._defaultId}}),X.define=function(e,n){n===t&&(n=e,e=X);var i,r,a,s,o,l,u,d,c=pe({defaults:{}},n),f={},h=c.id,g=[];if(h&&(c.idField=h),c.id&&delete c.id,h&&(c.defaults[h]=c._defaultId=""),"[object Array]"===et.call(c.fields)){for(l=0,u=c.fields.length;l<u;l++)a=c.fields[l],typeof a===De?f[a]={}:a.field&&(f[a.field]=a);c.fields=f}for(r in c.fields)a=c.fields[r],s=a.type||"default",o=null,d=r,r=typeof a.field===De?a.field:r,a.nullable||(o=c.defaults[d!==r?d:r]=a.defaultValue!==t?a.defaultValue:Z[s.toLowerCase()],"function"==typeof o&&g.push(r)),n.id===r&&(c._defaultId=o),c.defaults[d!==r?d:r]=o,a.parse=a.parse||K[s];return g.length>0&&(c._initializers=g),i=e.extend(c),i.define=function(e){return X.define(i,e)},c.fields&&(i.fields=c.fields,i.idField=c.idField),i},ee={selector:function(e){return Te(e)?e:Ue(e)},compare:function(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n?0:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:e<n?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,n){return t(n,e,!0)}:t},combine:function(e){return function(t,n){var i,r,a=e[0](t,n);for(i=1,r=e.length;i<r;i++)a=a||e[i](t,n);return a}}},te=pe({},ee,{asc:function(e){var t=this.selector(e);return function(e,n){var i=t(e),r=t(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===r?e.__position-n.__position:null==i?-1:null==r?1:i.localeCompare?i.localeCompare(r):i>r?1:-1}},desc:function(e){var t=this.selector(e);return function(e,n){var i=t(e),r=t(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===r?e.__position-n.__position:null==i?1:null==r?-1:r.localeCompare?r.localeCompare(i):i<r?1:-1}},create:function(e){return this[e.dir](e.field)}}),J=function(e,t){var n,i=e.length,r=Array(i);for(n=0;n<i;n++)r[n]=t(e[n],n,e);return r},ne=function(){function e(e){return"string"==typeof e&&(e=e.replace(/[\r\n]+/g,"")),JSON.stringify(e)}function t(t){return function(n,i,r,a){return i+="",r&&(n="("+n+" + '').toString()"+(a?".toLocaleLowerCase('"+a+"')":".toLowerCase()"),i=a?i.toLocaleLowerCase(a):i.toLowerCase()),t(n,e(i),r)}}function n(t,n,i,r,a){if(null!=i){if(typeof i===De){var s=nt.exec(i);s?i=new Date(+s[1]):r?(i=e(a?i.toLocaleLowerCase(a):i.toLowerCase()),n="(("+n+" || '')+'')"+(a?".toLocaleLowerCase('"+a+"')":".toLowerCase()")):i=e(i)}i.getTime&&(n="("+n+"&&"+n+".getTime?"+n+".getTime():"+n+")",i=i.getTime())}return n+" "+t+" "+i}function i(e){var t,n,i,r;for(t="/^",n=!1,i=0;i<e.length;++i){if(r=e.charAt(i),n)t+="\\"+r;else{if("~"==r){n=!0;continue}t+="*"==r?".*":"?"==r?".":".+^$()[]{}|\\/\n\r\u2028\u2029\xa0".indexOf(r)>=0?"\\"+r:r}n=!1}return t+"$/"}return{quote:function(t){return t&&t.getTime?"new Date("+t.getTime()+")":e(t)},eq:function(e,t,i,r){return n("==",e,t,i,r)},neq:function(e,t,i,r){return n("!=",e,t,i,r)},gt:function(e,t,i){return n(">",e,t,i)},gte:function(e,t,i){return n(">=",e,t,i)},lt:function(e,t,i){return n("<",e,t,i)},lte:function(e,t,i){return n("<=",e,t,i)},startswith:t(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:t(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:t(function(e,t){var n=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+n+") >= 0"}),doesnotendwith:t(function(e,t){var n=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+n+") < 0"}),contains:t(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:t(function(e,t){return e+".indexOf("+t+") == -1"}),matches:t(function(e,t){return t=t.substring(1,t.length-1),i(t)+".test("+e+")"}),doesnotmatch:t(function(e,t){return t=t.substring(1,t.length-1),"!"+i(t)+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}}}(),a.filterExpr=function(e){var n,i,r,s,o,l,u=[],d={and:" && ",or:" || "},c=[],f=[],h=e.filters;for(n=0,i=h.length;n<i;n++)r=h[n],o=r.field,l=r.operator,r.filters?(s=a.filterExpr(r),r=s.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(f.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(c.length+t)+"]"}),f.push.apply(f,s.operators),c.push.apply(c,s.fields)):(typeof o===ze?(s="__f["+c.length+"](d)",c.push(o)):s=xe.expr(o),typeof l===ze?(r="__o["+f.length+"]("+s+", "+ne.quote(r.value)+")",f.push(l)):r=ne[(l||"eq").toLowerCase()](s,r.value,r.ignoreCase===t||r.ignoreCase,e.accentFoldingFiltering)),u.push(r);return{expression:"("+u.join(d[e.logic])+")",fields:c,operators:f}},ie={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"},a.normalizeFilter=u,a.compareFilters=h,a.prototype={toArray:function(){return this.data},range:function(e,t){return new a(this.data.slice(e,e+t))},skip:function(e){return new a(this.data.slice(e))},take:function(e){return new a(this.data.slice(0,e))},select:function(e){return new a(J(this.data,e))},order:function(e,t,n){var i={dir:t};return e&&(e.compare?i.compare=e.compare:i.field=e),new a(n?this.data.sort(ee.create(i)):this.data.slice(0).sort(ee.create(i)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,n,i){var r,a,o=s(e,t),l=[];if(n=n||ee,o.length){for(r=0,a=o.length;r<a;r++)l.push(n.create(o[r]));return this.orderBy({compare:n.combine(l)},i)}return this},filter:function(e){var t,n,i,r,s,o,l,d,c=this.data,f=[];if(e=u(e),!e||0===e.filters.length)return this;for(r=a.filterExpr(e),o=r.fields,l=r.operators,s=d=Function("d, __f, __o","return "+r.expression),(o.length||l.length)&&(d=function(e){return s(e,o,l)}),t=0,i=c.length;t<i;t++)n=c[t],d(n)&&f.push(n);return new a(f)},group:function(e,t,n){e=p(e||[]),t=t||this.data;var i,r=this,s=new a(r.data);return e.length>0&&(i=e[0],s=n&&n.groupPaging?new a(t).groupAllData(i,t).select(function(r){var s=new a(t).filter([{field:r.field,operator:"eq",value:r.value,ignoreCase:!1}]),o=e.length>1?new a(r.items).group(e.slice(1),s.toArray(),n).toArray():r.items;return{field:r.field,value:r.value,hasSubgroups:e.length>1,items:o,aggregates:s.aggregate(i.aggregates),uid:xe.guid(),itemCount:o.length,subgroupCount:o.length}}):s.groupBy(i).select(function(n){var r=new a(t).filter([{field:n.field,operator:"eq",value:n.value,ignoreCase:!1}]);return{field:n.field,value:n.value,items:e.length>1?new a(n.items).group(e.slice(1),r.toArray()).toArray():n.items,hasSubgroups:e.length>1,aggregates:r.aggregate(i.aggregates)}})),s},groupBy:function(e){var t,n,i,r,s,o,l,u,d,c,f=this;if(ve(e)||!this.data.length)return new a([]);for(t=e.field,n=e.skipItemSorting?this.data:this._sortForGrouping(t,e.dir||"asc"),i=xe.accessor(t),s=i.get(n[0],t),o={field:t,value:s,items:[]},c=[o],u=0,d=n.length;u<d;u++)r=n[u],l=i.get(r,t),v(s,l)||(s=l,o={field:t,value:s,items:[]},c.push(o)),o.items.push(r);return c=f._sortGroups(c,e),new a(c)},groupAllData:function(e,t){if(ve(e)||this.data&&!this.data.length)return new a([]);var n,i,r,s,o=e.field,l=e.skipItemSorting?t:new a(t).sort(o,e.dir||"asc",te).toArray(),u=xe.accessor(o),d=u.get(l[0],o),c={field:o,value:d,items:[]},f=[c];for(r=0,s=l.length;r<s;r++)n=l[r],i=u.get(n,o),v(d,i)||(d=i,c={field:o,value:d,items:[]},f.push(c)),c.items.push(n);return f=this._sortGroups(f,e),new a(f)},_sortForGrouping:function(e,t){var n,i,r=this.data;if(!tt){for(n=0,i=r.length;n<i;n++)r[n].__position=n;for(r=new a(r).sort(e,t,te).toArray(),n=0,i=r.length;n<i;n++)delete r[n].__position;return r}return this.sort(e,t).toArray()},_sortGroups:function(e,t){var n=e;return t&&Te(t.compare)&&(n=new a(n).order({compare:t.compare},t.dir||Pe).toArray()),n},aggregate:function(e){var t,n,i={},r={};if(e&&e.length)for(t=0,n=this.data.length;t<n;t++)y(i,e,this.data[t],t,n,r);return i}},re={sum:function(e,t,n){var i=n.get(t);return b(e)?b(i)&&(e+=i):e=i,e},count:function(e){return(e||0)+1},average:function(e,n,i,r,a,s){var o=i.get(n);return s.count===t&&(s.count=0),b(e)?b(o)&&(e+=o):e=o,b(o)&&s.count++,r==a-1&&b(e)&&(e/=s.count),e},max:function(e,t,n){var i=n.get(t);return b(e)||w(e)||(e=i),e<i&&(b(i)||w(i))&&(e=i),e},min:function(e,t,n){var i=n.get(t);return b(e)||w(e)||(e=i),e>i&&(b(i)||w(i))&&(e=i),e}},a.normalizeGroup=p,a.normalizeSort=s,a.process=function(e,n,i){var r,o,l,u,d,c,f,h,g,v,y,b;return n=n||{},r=n.group,o=_(p(r||[])),l=new a(e),u=m(r||[]),d=s(n.sort||[]),c=o?d:u.concat(d),g=n.filterCallback,v=n.filter,y=n.skip,b=n.take,c&&i&&(l=l.sort(c,t,t,i)),v&&(l=l.filter(v),g&&(l=g(l)),h=l.toArray().length),c&&(i||(l=l.sort(c)),r&&(e=l.toArray())),o?(l=l.group(r,e),y!==t&&b!==t&&(l=new a(P(l.toArray())).range(y,b),f=J(u,function(e){return pe({},e,{skipItemSorting:!0})}),l=l.group(f,e))):(y!==t&&b!==t&&(l=l.range(y,b)),r&&(l=l.group(r,e,n))),{total:h,data:l.toArray()}},ae=Me.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),se=Me.extend({init:function(e){var t,n=this;e=n.options=pe({},n.options,e),Se(Le,function(t,n){typeof e[n]===De&&(e[n]={url:e[n]})}),n.cache=e.cache?oe.create(e.cache):{find:ke,add:ke},t=e.parameterMap,e.submit&&(n.submit=e.submit),Te(e.push)&&(n.push=e.push),n.push||(n.push=je),n.parameterMap=Te(t)?t:function(e){var n={};return Se(e,function(e,i){e in t&&(e=t[e],_e(e)&&(i=e.value(i),e=e.key)),n[e]=i}),n}},options:{parameterMap:je},create:function(e){return we(this.setup(e,Fe))},read:function(n){var i,r,a,s=this,o=s.cache;n=s.setup(n,Oe),i=n.success||ke,r=n.error||ke,a=o.find(n.data),a!==t?i(a):(n.success=function(e){o.add(n.data,e),i(e)},e.ajax(n))},update:function(e){return we(this.setup(e,Ae))},destroy:function(e){return we(this.setup(e,Ee))},setup:function(e,t){e=e||{};var n,i=this,r=i.options[t],a=Te(r.data)?r.data(e.data):r.data;return e=pe(!0,{},r,e),n=pe(!0,{},a,e.data),e.data=i.parameterMap(n,t),Te(e.url)&&(e.url=e.url(n)),e}}),oe=Me.extend({init:function(){this._store={}},add:function(e,n){e!==t&&(this._store[We(e)]=n)},find:function(e){return this._store[We(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[We(e)]}}),oe.create=function(e){var t={inmemory:function(){return new oe}};return _e(e)&&Te(e.find)?e:e===!0?new oe:t[e]()},le=Me.extend({init:function(e){var t,n,i,r,a,s,o,l,u,d,c,f,h,g,p=this;e=e||{};for(t in e)n=e[t],p[t]=typeof n===De?Ue(n):n;r=e.modelBase||X,_e(p.model)&&(p.model=i=r.define(p.model)),a=me(p.data,p),p._dataAccessFunction=a,p.model&&(s=me(p.groups,p),o=me(p.serialize,p),l={},u={},d={},c={},f=!1,i=p.model,i.fields&&(Se(i.fields,function(e,t){var n;h=e,_e(t)&&t.field?h=t.field:typeof t===De&&(h=t),_e(t)&&t.from&&(n=t.from),f=f||n&&n!==e||h!==e,g=n||h,u[e]=g.indexOf(".")!==-1?Ue(g,!0):Ue(g),d[e]=Ue(e),l[n||h]=e,c[e]=n||h}),!e.serialize&&f&&(p.serialize=C(o,i,k,d,l,c))),p._dataAccessFunction=a,p._wrapDataAccessBase=M(i,x,u,l,c),p.data=C(a,i,x,u,l,c),p.groups=C(s,i,T,u,l,c))},errors:function(e){return e?e.errors:null},parse:je,data:je,total:function(e){return e.length},groups:je,aggregates:function(){return{}},serialize:function(e){return e}}),ue=Ce.extend({init:function(e){var n,i,r,a=this;e&&(i=e.data),e=a.options=pe({},a.options,e),a._map={},a._prefetch={},a._data=[],a._pristineData=[],a._ranges=[],a._view=[],a._pristineTotal=0,a._destroyed=[],a._pageSize=e.pageSize,a._page=e.page||(e.pageSize?1:t),a._sort=s(e.sort),a._filter=u(e.filter),a._group=p(e.group),a._aggregate=e.aggregate,a._total=e.total,a._groupPaging=e.groupPaging,a._groupPaging&&(a._groupsState={}),a._shouldDetachObservableParents=!0,Ce.fn.init.call(a),a.transport=de.create(e,i,a),Te(a.transport.push)&&a.transport.push({pushCreate:me(a._pushCreate,a),pushUpdate:me(a._pushUpdate,a),pushDestroy:me(a._pushDestroy,a)}),null!=e.offlineStorage&&("string"==typeof e.offlineStorage?(r=e.offlineStorage,a._storage={getItem:function(){return JSON.parse(localStorage.getItem(r))},setItem:function(e){localStorage.setItem(r,We(a.reader.serialize(e)))}}):a._storage=e.offlineStorage),a.reader=new xe.data.readers[e.schema.type||"json"](e.schema),n=a.reader.model||{},a._detachObservableParents(),a._data=a._observe(a._data),a._online=!0,a.bind(["push",Ne,Ie,Ge,Re,Be,qe],e)},options:{data:null,schema:{modelBase:X},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(n){return n!==t?this._online!=n&&(this._online=n,n)?this.sync():e.Deferred().resolve().promise():this._online},offlineData:function(e){return null==this.options.offlineStorage?null:e!==t?this._storage.setItem(e):this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_isServerGroupPaged:function(){return this._isServerGrouped()&&this._groupPaging},_isGroupPaged:function(){var e=this.group()||[];return this._groupPaging&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var n=this._readData(e);n||(n=e),this[t](n)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return F(e);if(!t)for(var n=0;n<e.length;n++)e.at(n)}return e},parent:ke,get:function(e){var t,n,i=this._flatData(this._data,this.options.useRanges);for(t=0,n=i.length;t<n;t++)if(i[t].id==e)return i[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var n,i,r=this._flatData(t,this.options.useRanges);if(r)for(n=0,i=r.length;n<i;n++)if(r[n].uid==e)return r[n]},indexOf:function(e){return G(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var n,i=this;if(e===t){if(i._data)for(n=0;n<i._data.length;n++)i._data.at(n);return i._data}i._detachObservableParents(),i._data=this._observe(e),i._pristineData=e.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data)},view:function(e){return e===t?this._view:(this._view=this._observeView(e),t)},_observeView:function(e){var t,n=this;return R(e,n._data,n._ranges,n.reader.model||Q,n._isServerGrouped()),t=new Y(e,n.reader.model),t.parent=function(){return n.parent()},t},flatView:function(){var e=this.group()||[];return e.length?F(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof Q?e:new Q(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof X||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),this._insertModelInRange(e,t),t},pushInsert:function(t,n){var i,r,a,s,o,l,u=this,d=u._getCurrentRangeSpan();n||(n=t,t=0),ye(n)||(n=[n]),i=[],r=this.options.autoSync,this.options.autoSync=!1;try{for(a=0;a<n.length;a++)s=n[a],o=this.insert(t,s),i.push(o),l=o.toJSON(),this._isServerGrouped()&&(l=this._wrapInEmptyGroup(l)),this._pristineData.push(l),d&&d.length&&e(d).last()[0].pristineData.push(l),t++}finally{this.options.autoSync=r}i.length&&this.trigger("push",{type:"create",items:i})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){var t,n,i,r,a;for(ye(e)||(e=[e]),t=[],n=0;n<e.length;n++)i=e[n],r=this._createNewModel(i),a=this.get(r.id),a?(t.push(a),a.accept(i),a.trigger(Ie),this._updatePristineForModel(a,i)):this.pushCreate(i);t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e,n){var i,r,a,s,o,l,u;ye(e)||(e=[e]),i=t===n||n,r=[],a=this.options.autoSync,this.options.autoSync=!1;try{for(s=0;s<e.length;s++)o=e[s],l=this._createNewModel(o),u=!1,this._eachItem(this._data,function(e){var t,n;for(t=0;t<e.length;t++)if(n=e.at(t),n.id===l.id){r.push(n),e.splice(t,1),u=!0;break}}),u&&i&&(this._removePristineForModel(l),this._destroyed.pop())}finally{this.options.autoSync=a}return r},remove:function(e){var t,n=this,i=n._isServerGrouped();return this._eachItem(n._data,function(r){if(t=H(r,e),t&&i)return t.isNew&&t.isNew()||n._destroyed.push(t),!0}),this._removeModelFromRanges(e),e},destroyed:function(){return this._destroyed},created:function(){var e,t,n=[],i=this._flatData(this._data,this.options.useRanges);for(e=0,t=i.length;e<t;e++)i[e].isNew&&i[e].isNew()&&n.push(i[e]);return n},updated:function(){var e,t,n=[],i=this._flatData(this._data,this.options.useRanges);for(e=0,t=i.length;e<t;e++)i[e].isNew&&!i[e].isNew()&&i[e].dirty&&n.push(i[e]);return n},sync:function(){var t,n=this,i=[],r=[],a=n._destroyed,s=e.Deferred().resolve().promise();if(n.online()){if(!n.reader.model)return s;i=n.created(),r=n.updated(),t=[],n.options.batch&&n.transport.submit?t=n._sendSubmit(i,r,a):(t.push.apply(t,n._send("create",i)),t.push.apply(t,n._send("update",r)),t.push.apply(t,n._send("destroy",a))),s=e.when.apply(null,t).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)arguments[e]&&n._accept(arguments[e]);n._storeData(!0),n._syncEnd(),n._change({action:"sync"}),n.trigger(Re),n._isServerGroupPaged()&&n.read()})}else n._storeData(!0),n._syncEnd(),n._change({action:"sync"});return s},_syncEnd:ke,cancelChanges:function(e){var t=this;e instanceof xe.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data,0),t._changesCanceled(),t._change(),t._markOfflineUpdatesAsDirty(),t._isServerGrouped()&&t.read())},_changesCanceled:ke,_markOfflineUpdatesAsDirty:function(){var e=this;null!=e.options.offlineStorage&&e._eachItem(e._data,function(e){var t,n;for(t=0;t<e.length;t++)n=e.at(t),"update"!=n.__state__&&"create"!=n.__state__||(n.dirty=!0)})},hasChanges:function(){var e,t,n=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(e=0,t=n.length;e<t;e++)if(n[e].isNew&&n[e].isNew()||n[e].dirty)return!0;return!1},_accept:function(t){var n,i=this,r=t.models,a=t.response,s=0,o=i._isServerGrouped(),l=i._pristineData,u=t.type;if(i.trigger(Be,{response:a,type:u}),a&&!ve(a)){if(a=i.reader.parse(a),i._handleCustomErrors(a))return;a=i.reader.data(a),ye(a)||(a=[a])}else a=e.map(r,function(e){return e.toJSON()});for("destroy"===u&&(i._destroyed=[]),s=0,n=r.length;s<n;s++)"destroy"!==u?(r[s].accept(a[s]),"create"===u?l.push(o?i._wrapInEmptyGroup(r[s].toJSON()):a[s]):"update"===u&&i._updatePristineForModel(r[s],a[s])):i._removePristineForModel(r[s])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,n){xe.deepExtend(n[e],t)})},_executeOnPristineForModel:function(e,t){this._eachPristineItem(function(n){var i=N(n,e);if(i>-1)return t(i,n),!0})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,e)},_eachPristineItem:function(e){var t=this,n=t.options,i=t._getCurrentRangeSpan();t._eachItem(t._pristineData,e),n.serverPaging&&n.useRanges&&Se(i,function(n,i){t._eachItem(i.pristineData,e)})},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?A(e,t):t(e))},_pristineForModel:function(e){var t,n,i=function(i){if(n=N(i,e),n>-1)return t=i[n],!0};return this._eachPristineItem(i),t},_cancelModel:function(e){var t=this,n=this._pristineForModel(e);this._eachItem(this._data,function(i){var r=G(i,e);r>=0&&(!n||e.isNew()&&!n.__state__?(t._modelCanceled(e),i.splice(r,1),t._removeModelFromRanges(e)):(i[r].accept(n),"update"==n.__state__&&(i[r].dirty=!0)))})},_modelCanceled:ke,_submit:function(t,n){var i=this;i.trigger(Ge,{type:"submit"}),i.trigger(qe),i.transport.submit(pe({success:function(n,i){var r=e.grep(t,function(e){return e.type==i})[0];r&&r.resolve({response:n,models:r.models,type:i})},error:function(e,n,r){for(var a=0;a<t.length;a++)t[a].reject(e);i.error(e,n,r)}},n))},_sendSubmit:function(t,n,i){var r=this,a=[];return r.options.batch&&(t.length&&a.push(e.Deferred(function(e){e.type="create",e.models=t})),n.length&&a.push(e.Deferred(function(e){e.type="update",e.models=n})),i.length&&a.push(e.Deferred(function(e){e.type="destroy",e.models=i})),r._submit(a,{data:{created:r.reader.serialize(S(t)),updated:r.reader.serialize(S(n)),destroyed:r.reader.serialize(S(i))}})),a},_promise:function(t,n,i){var r=this;return e.Deferred(function(e){r.trigger(Ge,{type:i}),r.trigger(qe),r.transport[i].call(r.transport,pe({success:function(t){e.resolve({response:t,models:n,type:i})},error:function(t,n,i){e.reject(t),r.error(t,n,i)}},t))}).promise()},_send:function(e,t){var n,i,r=this,a=[],s=r.reader.serialize(S(t));if(r.options.batch)t.length&&a.push(r._promise({data:{models:s}},t,e));else for(n=0,i=t.length;n<i;n++)a.push(r._promise({data:s[n]},[t[n]],e));return a},read:function(t){var n=this,i=n._params(t),r=e.Deferred();return n._queueRequest(i,function(){var e=n.trigger(Ge,{type:"read"});e?(n._dequeueRequest(),r.resolve(e)):(n.trigger(qe),n._ranges=[],n.trigger("reset"),n.online()?n.transport.read({data:i,success:function(e){n._ranges=[],n.success(e,i),r.resolve()},error:function(){var e=Ze.call(arguments);n.error.apply(n,e),r.reject.apply(r,e)}}):null!=n.options.offlineStorage&&(n.success(n.offlineData(),i),r.resolve()))}),r.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var n,i,r,a,s,o,l,u,d,c,f,h=this,g=h.options;if(h.trigger(Be,{response:e,type:"read"}),h.online()){if(e=h.reader.parse(e),h._handleCustomErrors(e))return h._dequeueRequest(),t;h._total=h.reader.total(e),h._isServerGroupPaged()&&(h._serverGroupsTotal=h._total),h._pageSize>h._total&&(h._pageSize=h._total,h.options.pageSize&&h.options.pageSize>h._pageSize&&(h._pageSize=h.options.pageSize)),h._aggregate&&g.serverAggregates&&(h._aggregateResult=h._readAggregates(e)),e=h._readData(e),h._destroyed=[]}else{for(e=h._readData(e),n=[],r={},a=h.reader.model,s=a?a.idField:"id",o=0;o<this._destroyed.length;o++)l=this._destroyed[o][s],r[l]=l;for(o=0;o<e.length;o++)u=e[o],d=u.__state__,"destroy"==d?r[u[s]]||this._destroyed.push(this._createNewModel(u)):n.push(u);e=n,h._total=e.length}if(h._pristineTotal=h._total,i=h._skip&&h._data.length&&h._skip<h._data.length,h.options.endless)for(i&&h._pristineData.splice(h._skip,h._pristineData.length),n=e.slice(0),c=0;c<n.length;c++)h._pristineData.push(n[c]);else h._pristineData=e.slice(0);if(h._detachObservableParents(),h.options.endless){for(h._data.unbind(Ie,h._changeHandler),h._isServerGrouped()&&h._data[h._data.length-1].value===e[0].value&&(D(h._data[h._data.length-1],e[0]),e.shift()),e=h._observe(e),i&&h._data.splice(h._skip,h._data.length),f=0;f<e.length;f++)h._data.push(e[f]);h._data.bind(Ie,h._changeHandler)}else h._data=h._observe(e);h._markOfflineUpdatesAsDirty(),h._storeData(),h._addRange(h._data),h._process(h._data),h._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)this._data[e].parent&&(this._data[e].parent=ke)},_storeData:function(e){function t(e){var n,i,r,a=[];for(n=0;n<e.length;n++)i=e.at(n),r=i.toJSON(),s&&i.items?r.items=t(i.items):(r.uid=i.uid,o&&(i.isNew()?r.__state__="create":i.dirty&&(r.__state__="update"))),a.push(r);return a}var n,i,r,a,s=this._isServerGrouped(),o=this.reader.model;if(null!=this.options.offlineStorage){for(n=t(this._data),i=[],r=0;r<this._destroyed.length;r++)a=this._destroyed[r].toJSON(),a.__state__="destroy",i.push(a);this.offlineData(n.concat(i)),e&&(this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(n):this.reader._wrapDataAccessBase(n))}},_addRange:function(e,n){var i,r=this,a=t!==n?n:r._skip||0,s={data:e,pristineData:e.toJSON(),timestamp:r._timeStamp()};this._isGroupPaged()?(i=a+e.length,s.outerStart=a,s.outerEnd=i):i=a+r._flatData(e,!0).length,s.start=a,s.end=i,r._ranges.push(s),r._sortRanges(),r._isGroupPaged()&&(r._groupsFlat||(r._groupsFlat=[]),r._appendToGroupsFlat(s.data),r._updateOuterRangesLength())},_appendToGroupsFlat:function(e){var t,n=e.length;for(t=0;t<n;t++)this._groupsFlat.push(e[t])},_getGroupByUid:function(e){var t,n,i=this._groupsFlat.length;for(n=0;n<i;n++)if(t=this._groupsFlat[n],t.uid===e)return t},_sortRanges:function(){this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,n){this._dequeueRequest(),this.trigger(Be,{}),this.trigger(Ne,{xhr:e,status:t,errorThrown:n})},_params:function(e){var t=this,n=pe({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate,groupPaging:!!t._groupPaging},e);return t.options.serverPaging||(delete n.take,delete n.skip,delete n.page,delete n.pageSize),t.options.serverGrouping?t.reader.model&&n.group&&(n.group=j(n.group,t.reader.model)):delete n.group,t.options.serverFiltering?t.reader.model&&n.filter&&(n.filter=L(n.filter,t.reader.model)):delete n.filter,t.options.serverSorting?t.reader.model&&n.sort&&(n.sort=j(n.sort,t.reader.model)):delete n.sort,t.options.serverAggregates?t.reader.model&&n.aggregate&&(n.aggregate=j(n.aggregate,t.reader.model)):delete n.aggregate,t.options.groupPaging||delete n.groupPaging,n},_queueRequest:function(e,n){var i=this;i._requestInProgress?i._pending={callback:me(n,i),options:e}:(i._requestInProgress=!0,i._pending=t,n())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(Ne,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(e){var t=this.reader.model;return!(!t||!e.length||e[0]instanceof t)},_observe:function(e){var t,n=this,i=n.reader.model;return n._shouldDetachObservableParents=!0,e instanceof it?(n._shouldDetachObservableParents=!1,n._shouldWrap(e)&&(e.type=n.reader.model,e.wrapAll(e,e))):(t=n.pageSize()&&!n.options.serverPaging?Y:it,e=new t(e,n.reader.model),e.parent=function(){return n.parent()}),n._isServerGrouped()&&O(e,i),!(n._changeHandler&&n._data&&n._data instanceof it)||n.options.useRanges&&n.options.serverPaging?n._changeHandler=me(n._change,n):n._data.unbind(Ie,n._changeHandler),e.bind(Ie,n._changeHandler)},_updateTotalForAction:function(e,t){var n=this,i=parseInt(n._total,10);b(n._total)||(i=parseInt(n._pristineTotal,10)),"add"===e?i+=t.length:"remove"===e?i-=t.length:"itemchange"===e||"sync"===e||n.options.serverPaging?"sync"===e&&(i=n._pristineTotal=parseInt(n._total,10)):i=n._pristineTotal,
n._total=i},_change:function(e){var t,n,i,r=this,a=e?e.action:"";if("remove"===a)for(t=0,n=e.items.length;t<n;t++)e.items[t].isNew&&e.items[t].isNew()||r._destroyed.push(e.items[t]);!r.options.autoSync||"add"!==a&&"remove"!==a&&"itemchange"!==a?(r._updateTotalForAction(a,e?e.items:[]),r._process(r._data,e)):(i=function(t){"sync"===t.action&&(r.unbind("change",i),r._updateTotalForAction(a,e.items))},r.first("change",i),r.sync())},_calculateAggregates:function(e,t){t=t||{};var n=new a(e),i=t.aggregate,r=t.filter;return r&&(n=n.filter(r)),n.aggregate(i)},_process:function(e,n){var i,r=this,a={};r.options.serverPaging!==!0&&(a.skip=r._skip,a.take=r._take||r._pageSize,a.skip===t&&r._page!==t&&r._pageSize!==t&&(a.skip=(r._page-1)*r._pageSize),r.options.useRanges&&(a.skip=r.currentRangeStart())),r.options.serverSorting!==!0&&(a.sort=r._sort),r.options.serverFiltering!==!0&&(a.filter=r._filter),r.options.serverGrouping!==!0&&(a.group=r._group),r.options.serverAggregates!==!0&&(a.aggregate=r._aggregate),r.options.serverGrouping&&r._clearEmptyGroups(e),a.groupPaging=r._groupPaging,i=r._isGroupPaged()&&n&&("page"===n.action||"expandGroup"===n.action||"collapseGroup"===n.action)?r._queryProcess(e,{aggregate:r._aggregate}):r._queryProcess(e,a),r.options.serverAggregates!==!0&&(r._aggregateResult=r._calculateAggregates(i.dataToAggregate||e,a)),r._setView(i,a,n),r._setFilterTotal(i.total,!1),n=n||{},n.items=n.items||r._view,r.trigger(Ie,n)},_setView:function(e,t,n){var i,r=this;r._isGroupPaged()&&!r._isServerGrouped()?!n||"page"!==n.action&&"expandGroup"!==n.action&&"collapseGroup"!==n.action?(r._ranges=[],i=new a(e.data),r._addRange(r._observe(e.data)),t.skip>e.data.length/t.take+1&&(t.skip=0),r.view(i.range(t.skip,t.take).toArray())):(r.view(e.data),r._updateOuterRangesLength()):r.view(e.data)},_clearEmptyGroups:function(e){var t,n;for(t=e.length-1;t>=0;t--)n=e[t],n.hasSubgroups?this._clearEmptyGroups(n.items):n.items&&!n.items.length&&Qe.apply(n.parent(),[t,1])},_queryProcess:function(e,t){return this.options.inPlaceSort?a.process(e,t,this.options.inPlaceSort):a.process(e,t)},_mergeState:function(n){var i=this;return n!==t&&(i._pageSize=n.pageSize,i._page=n.page,i._sort=n.sort,i._filter=n.filter,i._group=n.group,i._aggregate=n.aggregate,i._skip=i._currentRangeStart=n.skip,i._take=n.take,i._skip===t&&(i._skip=i._currentRangeStart=i.skip(),n.skip=i.skip()),i._take===t&&i._pageSize!==t&&(i._take=i._pageSize,n.take=i._take),n.sort&&(i._sort=n.sort=s(n.sort),i._sortFields=o(n.sort)),n.filter&&(i._filter=n.filter=i.options.accentFoldingFiltering&&!e.isEmptyObject(n.filter)?e.extend({},u(n.filter),{accentFoldingFiltering:i.options.accentFoldingFiltering}):u(n.filter)),n.group&&(i._group=n.group=p(n.group)),n.aggregate&&(i._aggregate=n.aggregate=g(n.aggregate))),n},query:function(n){var i,r,a,s=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return s||(this._data===t||0===this._data.length)&&!this._destroyed.length?(this.options.endless&&(r=n.pageSize-this.pageSize(),r>0?(r=this.pageSize(),n.page=n.pageSize/r,n.pageSize=r):(n.page=1,this.options.endless=!1)),this.read(this._mergeState(n))):(a=this.trigger(Ge,{type:"read"}),a||(this.trigger(qe),n&&(n.groupPaging=this._groupPaging),i=this._queryProcess(this._data,this._mergeState(n)),this._setFilterTotal(i.total,!0),this._aggregateResult=this._calculateAggregates(i.dataToAggregate||this._data,n),this._setView(i,n),this.trigger(Be,{type:"read"}),this.trigger(Ie,{items:i.data,action:n?n.action:""})),e.Deferred().resolve(a).promise())},_hasExpandedSubGroups:function(e){var t,n=!1,i=e.items?e.items.length:0;if(!e.hasSubgroups)return!1;for(t=0;t<i;t++)if(this._groupsState[e.items[t].uid]){n=!0;break}return n},_findGroupedRange:function(e,n,i,r,a){var s,o,l,u,d,c,f,h,g=this,p=e.length;for(f=0;f<p&&(s=e[f],!(i.taken>=i.take));f++)if(g._getGroupByUid(s.uid)||g._groupsFlat.push(s),g._groupsState[s.uid]){if(g._isServerGroupPaged()){if(s.hasSubgroups&&!s.subgroupCount)return g.getGroupSubGroupCount(s,i,r,a),g._fetchingGroupItems=!0,t;if(d=(s.subgroupCount||s.itemCount)+1,c=i.skip-i.skipped,u=!s.items||s.items.length-c<i.take-i.taken,!g._hasExpandedSubGroups(s)&&c>d){i.skipped+=d;continue}if(s.hasSubgroups&&(!s.items||u&&s.items.length<s.subgroupCount)||!s.hasSubgroups&&(!s.items||u&&s.items.length<s.itemCount))return g.getGroupItems(s,i,r,a),g._fetchingGroupItems=!0,t}if(i.includeParents&&i.skipped<i.skip?(i.skipped++,s.excludeHeader=!0):i.includeParents&&i.taken++,s.hasSubgroups&&s.items&&s.items.length)s.currentItems=[],r||(r=[]),r.push(s),g._findGroupedRange(s.items,s.currentItems,i,r,a),r.pop(),s.currentItems.length||i.taken>0?n.push(s):s.excludeHeader=!1;else{for(o=[],l=s.items.length,h=0;h<l;h++)if(i.skipped<i.skip)i.skipped++;else{if(i.taken>=i.take)break;o.push(s.items[h]),i.taken++}o.length||i.taken>0?(s.currentItems=o,n.push(s)):s.excludeHeader=!1}}else{if(i.skipped<i.skip){i.skipped++;continue}n.push(s),i.taken++}},getGroupItems:function(e,t,n,i){var r,a,s,o,l,u=this;e.items||(e.items=[]),r=e.items.length,a=u.take(),s=this._composeItemsFilter(e,n),o={page:Ve.floor((r||0)/(a||1))||1,pageSize:a,skip:r,take:a,filter:s,aggregate:u._aggregate,sort:u._sort},l=u.findSubgroups(e),l&&l.length&&(o.group=l,o.groupPaging=!0),clearTimeout(u._timeout),u._timeout=setTimeout(function(){u._queueRequest(o,function(){u.trigger(Ge,{type:"read"})?u._dequeueRequest():u.transport.read({data:o,success:u._groupItemsSuccessHandler(e,t.skip,u.take(),i),error:function(){var e=Ze.call(arguments);u.error.apply(u,e)}})})},100)},getGroupSubGroupCount:function(e,t,n,i){var r,a,s,o=this;e.items||(e.items=[]),r=this._composeItemsFilter(e,n),a=this._group.map(function(e){return e.field}).indexOf(e.field),s={filter:r,group:[o._group[a+1]],groupPaging:!0,includeSubGroupCount:!0},clearTimeout(o._timeout),o._timeout=setTimeout(function(){o._queueRequest(s,function(){o.trigger(Ge,{type:"read"})?o._dequeueRequest():o.transport.read({data:s,success:o._subGroupCountSuccessHandler(e,t.skip,o.take(),i),error:function(){var e=Ze.call(arguments);o.error.apply(o,e)}})})},100)},_subGroupCountSuccessHandler:function(e,t,n,i){var r,a=this;return i=Te(i)?i:ke,r=a.options.schema&&a.options.schema.total?a.options.schema.total:"Total",function(s){a._dequeueRequest(),a.trigger(Be,{response:s,type:"read"}),a._fetchingGroupItems=!1,e.subgroupCount=s[r],a.range(t,n,i,"expandGroup")}},_groupItemsSuccessHandler:function(e,t,n,i){var r=this,a=r._timeStamp();return i=Te(i)?i:ke,function(s){var o,l,u=X.define(r.options.schema.model);for(r._dequeueRequest(),r.trigger(Be,{response:s,type:"read"}),s=r.reader.parse(s),e.hasSubgroups?o=r.reader.groups(s):(o=r.reader.data(s),o=o.map(function(e){return new u(e)})),e.items.omitChangeEvent=!0,l=0;l<o.length;l++)e.items.push(o[l]);e.items.omitChangeEvent=!1,r._updateRangePristineData(e),r._fetchingGroupItems=!1,r._serverGroupsTotal+=o.length,r.range(t,n,i,"expandGroup"),(a>=r._currentRequestTimeStamp||!r._skipRequestsInProgress)&&r.trigger(Ie,{})}},findSubgroups:function(e){var t=this._group.map(function(e){return e.field}).indexOf(e.field);return this._group.slice(t+1,this._group.length)},_composeItemsFilter:function(e,t){var n,i=this.filter()||{logic:"and",filters:[]};if(i=pe(!0,{},i),i.filters.push({field:e.field,operator:"eq",value:e.value}),t)for(n=0;n<t.length;n++)i.filters.push({field:t[n].field,operator:"eq",value:t[n].value});return i},_updateRangePristineData:function(e){var t,n,i,r,a,s,o,l=this,u=l._ranges,d=u.length;for(s=0;s<d;s++){for(i=u[s],r=i.data.length,a=[],o=0;o<r&&(n=i.data[o],a.push(o),!(n.uid===e.uid||n.hasSubgroups&&n.items.length&&l._containsSubGroup(n,e,a)));o++)a.pop();if(a.length){for(t=u[s].pristineData;a.length>1;)t=t[a.splice(0,1)[0]].items;t[a[0]]=l._cloneGroup(e);break}}},_containsSubGroup:function(e,t,n){var i,r,a=this,s=e.items.length;if(e.hasSubgroups&&s)for(r=0;r<s;r++){if(i=e.items[r],n.push(r),i.uid===t.uid)return!0;if(i.hasSubgroups&&i.items.length)return a._containsSubGroup(i,t,n);n.pop()}},_cloneGroup:function(e){var t=this;return e="function"==typeof e.toJSON?e.toJSON():e,e.items&&e.items.length&&(e.items=e.items.map(function(e){return t._cloneGroup(e)})),e},_setFilterTotal:function(e,n){var i=this;i.options.serverFiltering||(e!==t?i._total=e:n&&(i._total=i._data.length))},fetch:function(e){var t=this,n=function(n){n!==!0&&Te(e)&&e.call(t)};return this._query().done(n)},_query:function(e){var t=this;return t.query(pe({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,n=t.page(),i=t.total();if(e=e||{},n&&!(i&&n+1>t.totalPages()))return t._skip=t._currentRangeStart=n*t.take(),n+=1,e.page=n,t._query(e),n},prev:function(e){var t=this,n=t.page();if(e=e||{},n&&1!==n)return t._skip=t._currentRangeStart=t._skip-t.take(),n-=1,e.page=n,t._query(e),n},page:function(e){var n,i,r=this;return e!==t?(e=Ve.max(Ve.min(Ve.max(e,1),r.totalPages()),1),i=r.take(),r._isGroupPaged()?(e-=1,r.range(e*i,i,null,"page"),t):(r._query(r._pageableQueryOptions({page:e})),t)):(n=r.skip(),n!==t?Ve.round((n||0)/(r.take()||1))+1:t)},pageSize:function(e){var n=this;return e!==t?(n._query(n._pageableQueryOptions({pageSize:e,page:1})),t):n.take()},sort:function(e){var n=this;return e!==t?(n.trigger("sort"),n._query({sort:e}),t):n._sort},filter:function(e){var n=this;return e===t?n._filter:(n.trigger("reset"),n._query({filter:e,page:1}),t)},group:function(e){var n=this;return e!==t?(n._query({group:e}),t):n._group},getGroupsFlat:function(e){var t,n,i,r=[];for(t=0,n=e.length;t<n;t++)i=e[t],i.hasSubgroups&&(r=r.concat(this.getGroupsFlat(i.items))),r.push(i);return r},total:function(){return parseInt(this._total||0,10)},groupsTotal:function(e){var t=this;return t._group.length?t._isServerGrouped()?t._serverGroupsTotal?t._serverGroupsTotal:t._serverGroupsTotal=t.total():t._calculateGroupsTotal(t._ranges.length?t._ranges[0].data:[],e):t.total()},_calculateGroupsTotal:function(e,t,n,i){var r,a,s,o=this;if(n=n||"items",o._group.length&&e){for(r=0,a=e.length,s=0;s<a;s++)r+=o.groupCount(e[s],t,n,i);return o._groupsTotal=r,r}return o._groupsTotal=o._data.length},groupCount:function(e,t,n,i){var r=this,a=0;return e.hasSubgroups&&r._groupsState[e.uid]?((t&&!e.excludeHeader||i)&&(a+=1),e[n].forEach(function(e){a+=r.groupCount(e,t,n,i)})):r._groupsState[e.uid]?((t&&!e.excludeHeader||i)&&a++,a+=e[n]?e[n].length:0):a++,a},countGroupRange:function(e){var t,n=0,i=e.length;for(t=0;t<i;t++)n+=this.groupCount(e[t],!0);return n},aggregate:function(e){var n=this;return e!==t?(n._query({aggregate:e}),t):n._aggregate},aggregates:function(){var e=this._aggregateResult;return ve(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregates:function(e){var t,n,i={};if(!ve(e))for(t={},ye(e)||(e=[e]),n=0;n<e.length;n++)t[e[n].aggregate]=0,i[e[n].field]=t;return i},_pageableQueryOptions:function(e){return e},_wrapInEmptyGroup:function(e){var t,n,i,r,a=this.group();for(i=a.length-1,r=0;i>=r;i--)n=a[i],t={value:e.get?e.get(n.field):e[n.field],field:n.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(n.aggregates)};return t},totalPages:function(){var e=this,t=e.pageSize()||e.total(),n=e._isGroupPaged()?e.groupsTotal(!0):e.total();return Ve.ceil((n||0)/t)},inRange:function(e,t){var n=this,i=Ve.min(e+t,n.total());return!n.options.serverPaging&&n._data.length>0||n._findRange(e,i).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(e,n,i,r){var a,s,o,l,u;return this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,a=this._isGroupPaged()?this.groupsTotal(!0):this.total(),"expandGroup"!==r&&"collapseGroup"!==r||this._updateOuterRangesLength(),e=Ve.min(e||0,a),i=Te(i)?i:ke,s=this,o=Ve.max(Ve.floor(e/n),0)*n,l=Ve.min(o+n,a),u=s._findRange(e,Ve.min(e+n,a),i),!u.length&&0!==a||s._fetchingGroupItems?(s._isGroupPaged()&&(s._originalPageSkip=o,s._originalSize=l,o=Ve.max(Ve.floor(s._adjustPageSkip(e,n)/n),0)*n,l=Ve.min(o+n,a)),n===t||s._fetchingGroupItems||(s._isGroupPaged()&&!s._groupRangeExists(o,n)||!s._rangeExists(o,l)?s.prefetch(o,n,function(){e>o&&l<s.total()&&!s._rangeExists(l,Ve.min(l+n,s.total()))?s.prefetch(l,n,function(){s.range(e,n,i)}):s.range(e,n,i)}):o<e&&s.prefetch(l,n,function(){s.range(e,n,i)})),t):(s._processRangeData(u,e,n,s._originalPageSkip||o,s._originalSize||l,{action:r}),s._originalPageSkip=null,s._originalSize=null,i(),t)},_findRange:function(e,n,i){var r,a,o,l,u,d,c,f,h,g,p,_,v,y,b=this,w=b._ranges,S=[],k=b.options,x=k.serverSorting||k.serverPaging||k.serverFiltering||k.serverGrouping||k.serverAggregates,T={take:n-e,skip:e,skipped:0,taken:0,includeParents:!0},C=b._isGroupPaged(),M=C?"outerStart":"start",D=C?"outerEnd":"end";for(a=0,p=w.length;a<p;a++){if(r=w[a],C){if(r.outerStart>=n)return[];if(e>r.outerEnd){T.skipped+=r.outerEnd-(_||0),_=r.outerEnd;continue}if(t!==_&&_!=r.outerStart&&(T.skipped+=r.outerStart-_),T.skipped>T.skip)return[];for(t===_&&e>0&&r.start>0&&(T.skipped=r.outerStart),o=a;;){if(this._findGroupedRange(r.data,S,T,null,i),v=b._calculateGroupsTotal(S,!0,"currentItems"),v>=T.take)return S;if(b._fetchingGroupItems)return[];if(o++,!w[o]||w[o].outerStart!==r.outerEnd)break;r=w[o]}}else if(e>=r[M]&&e<=r[D]){for(g=0,o=a;o<p;o++)if(r=w[o],h=b._flatData(r.data,!0),h.length&&e+g>=r.start&&(d=r.data,c=r.end,x||(k.inPlaceSort?f=b._queryProcess(r.data,{filter:b.filter()}):(y=m(b.group()||[]).concat(s(b.sort()||[])),f=b._queryProcess(r.data,{sort:y,filter:b.filter()})),h=d=f.data,f.total!==t&&(c=f.total)),l=0,e+g>r.start&&(l=e+g-r.start),u=h.length,c>n&&(u-=c-n),g+=u-l,S=b._mergeGroups(S,d,l,u),n<=r.end&&g==n-e))return S;break}_=r.outerEnd}return[]},_getRangesMismatch:function(e){for(var t,n=this,i=n._ranges,r=0,a=0;t=i[a],t&&!(t.outerStart>e);)t.outerEnd!=t.end&&(r=t.outerEnd-t.end),a++;return r},_mergeGroups:function(e,t,n,i){if(this._isServerGrouped()){var r,a=t.toJSON();return e.length&&(r=e[e.length-1]),z(r,a,n,i),e.concat(a)}return e.concat(t.slice(n,i))},_processRangeData:function(e,n,i,r,a,s){var o,l,u,d,c=this;c._pending=t,c._skip=n>c.skip()&&!c._omitPrefetch?Ve.min(a,(c.totalPages()-1)*c.take()):r,c._currentRangeStart=n,c._take=i,o=c.options.serverPaging,l=c.options.serverSorting,u=c.options.serverFiltering,d=c.options.serverAggregates;try{c.options.serverPaging=!0,c._isServerGrouped()||c.group()&&c.group().length||(c.options.serverSorting=!0),c.options.serverFiltering=!0,c.options.serverPaging=!0,c.options.serverAggregates=!0,o&&(c._detachObservableParents(),c._data=e=c._observe(e)),c._process(e,s)}finally{c.options.serverPaging=o,c.options.serverSorting=l,c.options.serverFiltering=u,c.options.serverAggregates=d}},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,n,i){var r=this,a=r._timeStamp();return function(s){var o,l,u,d=!1,c={start:e,end:t,data:[],timestamp:r._timeStamp()};if(r._dequeueRequest(),r.trigger(Be,{response:s,type:"read"}),s=r.reader.parse(s),u=r._readData(s),u.length){for(o=0,l=r._ranges.length;o<l;o++)if(r._ranges[o].start===e){d=!0,c=r._ranges[o],r._isGroupPaged()||(c.pristineData=u,c.data=r._observe(u),c.end=c.start+r._flatData(c.data,!0).length,r._sortRanges());break}d||r._addRange(r._observe(u),e)}r._total=r.reader.total(s),(i||a>=r._currentRequestTimeStamp||!r._skipRequestsInProgress)&&(n&&u.length?n():r.trigger(Ie,{}))}},prefetch:function(e,n,i){var r=this,a=Ve.min(e+n,r.total()),s={take:n,skip:e,page:e/n+1,pageSize:n,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};return r._isGroupPaged()&&!r._isServerGrouped()&&r._groupRangeExists(e,a)?(i&&i(),t):(r._isServerGroupPaged()&&!r._groupRangeExists(e,a)||!r._rangeExists(e,a)?(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(s,function(){r.trigger(Ge,{type:"read"})?r._dequeueRequest():(r._omitPrefetch&&r.trigger(qe),r.transport.read({data:r._params(s),success:r._prefetchSuccessHandler(e,a,i),error:function(){var e=Ze.call(arguments);r.error.apply(r,e)}}))})},100)):i&&i(),t)},_multiplePrefetch:function(e,t,n){var i=this,r=Ve.min(e+t,i.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:i._sort,filter:i._filter,group:i._group,aggregate:i._aggregate};i._rangeExists(e,r)?n&&n():i.trigger(Ge,{type:"read"})||i.transport.read({data:i._params(a),success:i._prefetchSuccessHandler(e,r,n,!0)})},_adjustPageSkip:function(e,t){var n,i,r=this,a=r._getPrevRange(e),s=r.total();if(a){if(i=r._getRangesMismatch(e),!i)return e;e-=i}if(n=Ve.max(Ve.floor(e/t),0)*t,n>s)for(;n-=t,!(n<s););return n},_getNextRange:function(e){var t,n,i=this,r=i._ranges;for(t=0,n=r.length;t<n;t++)if(r[t].start<=e&&r[t].end>=e)return r[t]},_getPrevRange:function(e){var t,n,i=this,r=i._ranges,a=r.length;for(t=a-1;t>=0;t--)if(r[t].outerStart<=e){n=r[t];break}return n},_rangeExists:function(e,t){var n,i,r=this,a=r._ranges;for(n=0,i=a.length;n<i;n++)if(a[n].start<=e&&a[n].end>=t)return!0;return!1},_groupRangeExists:function(e,t){var n,i,r,a=this,s=a._ranges,o=0,l=a.groupsTotal(!0);for(t>l&&!a._isServerGrouped()&&(t=l),n=0,i=s.length;n<i;n++)r=s[n],r.outerStart<=e&&r.outerEnd>=e?o+=r.outerEnd-e:r.outerStart<=t&&r.outerEnd>=t&&(o+=t-r.outerStart);return o>=t-e},_getCurrentRangeSpan:function(){var e,t,n=this,i=n._ranges,r=n.currentRangeStart(),a=r+(n.take()||0),s=[],o=i.length;for(t=0;t<o;t++)e=i[t],(e.start<=r&&e.end>=r||e.start>=r&&e.start<=a)&&s.push(e);return s},_removeModelFromRanges:function(e){var t,n,i,r=this;for(n=0,i=this._ranges.length;n<i;n++)t=this._ranges[n],r._removeModelFromRange(t,e);r._updateRangesLength()},_removeModelFromRange:function(e,t){this._eachItem(e.data,function(e){var n,i;if(e)for(n=0;n<e.length;n++)if(i=e[n],i.uid&&i.uid==t.uid){[].splice.call(e,n,1);break}})},_insertModelInRange:function(e,t){var n,i,r=this,a=r._ranges||[],s=a.length;for(i=0;i<s;i++)if(n=a[i],n.start<=e&&n.end>=e){r._getByUid(t.uid,n.data)||(r._isServerGrouped()?n.data.splice(e,0,r._wrapInEmptyGroup(t)):n.data.splice(e,0,t));break}r._updateRangesLength()},_updateRangesLength:function(){var e,t,n,i=this,r=i._ranges||[],a=r.length,s=!1,o=0,l=0;for(n=0;n<a;n++)t=r[n],e=i._isGroupPaged()?t.data.length:i._flatData(t.data,!0).length,l=e-Ve.abs(t.end-t.start),s||0===l?s&&(t.start+=o,t.end+=o):(s=!0,o=l,t.end+=o)},_updateOuterRangesLength:function(){var e,t,n,i,r=this,a=r._ranges||[],s=a.length,o=0;for(t=0;t<s;t++)e=a[t],i=r._isGroupPaged()?r._calculateGroupsTotal(e.data,!0,"items",!0):r._flatData(e.data,!0).length,n?(n.end!=e.start&&(o=e.start-n.end),e.outerStart=n.outerEnd+o,o=0):e.outerStart=e.start,e.outerEnd=e.outerStart+i,n=e}}),de={},de.create=function(t,n,i){var r,a=t.transport?e.extend({},t.transport):null;return a?(a.read=typeof a.read===De?{url:a.read}:a.read,"jsdo"===t.type&&(a.dataSource=i),t.type&&(xe.data.transports=xe.data.transports||{},xe.data.schemas=xe.data.schemas||{},xe.data.transports[t.type]?_e(xe.data.transports[t.type])?a=pe(!0,{},xe.data.transports[t.type],a):r=new xe.data.transports[t.type](pe(a,{data:n})):xe.logToConsole("Unknown DataSource transport type '"+t.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),t.schema=pe(!0,{},xe.data.schemas[t.type],t.schema)),r||(r=Te(a.read)?a:new se(a))):r=new ae({data:t.data||[]}),r},ue.create=function(e){(ye(e)||e instanceof it)&&(e={data:e});var n,i,r,a=e||{},s=a.data,o=a.fields,l=a.table,u=a.select,d={};if(s||!o||a.transport||(l?s=W(l,o):u&&(s=U(u,o),a.group===t&&s[0]&&s[0].optgroup!==t&&(a.group="optgroup"))),xe.data.Model&&o&&(!a.schema||!a.schema.model)){for(n=0,i=o.length;n<i;n++)r=o[n],r.type&&(d[r.field]=r);ve(d)||(a.schema=pe(!0,a.schema,{model:{fields:d}}))}return a.data=s,u=null,a.select=null,l=null,a.table=null,a instanceof ue?a:new ue(a)},ce=X.define({idField:"id",init:function(e){var t,n=this,i=n.hasChildren||e&&e.hasChildren,r="items",a={};xe.data.Model.fn.init.call(n,e),typeof n.children===De&&(r=n.children),a={schema:{data:r,model:{hasChildren:i,id:n.idField,fields:n.fields}}},typeof n.children!==De&&pe(a,n.children),a.data=e,i||(i=a.schema.data),typeof i===De&&(i=xe.getter(i)),Te(i)&&(t=i.call(n,n),n.hasChildren=!(t&&0===t.length||!t)),n._childrenOptions=a,n.hasChildren&&n._initChildren(),n._loaded=!(!e||!e._loaded)},_initChildren:function(){var e,t,n,i=this;i.children instanceof fe||(e=i.children=new fe(i._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[i.idField||"id"]=i.id,n&&(e=n(e,t)),e},e.parent=function(){return i},e.bind(Ie,function(e){e.node=e.node||i,i.trigger(Ie,e)}),e.bind(Ne,function(e){var t=i.parent();t&&(e.node=e.node||i,t.trigger(Ne,e))}),i._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var n,i,r={},a="_query";return this.hasChildren?(this._initChildren(),n=this.children,r[this.idField||"id"]=this.id,this._loaded||(n._data=t,a="read"),n.one(Ie,me(this._childrenLoaded,this)),this._matchFilter&&(r.filter={field:"_matchFilter",operator:"eq",value:!0}),i=n[a](r)):this.loaded(!0),i||e.Deferred().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return X.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),fe=ue.extend({init:function(e){var t=ce.define({children:e});e.filter&&!e.serverFiltering&&(this._hierarchicalFilter=e.filter,e.filter=null),ue.fn.init.call(this,pe(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(Ne,function(t){e.trigger(Ne,t)})},read:function(e){var t=ue.fn.read.call(this,e);return this._hierarchicalFilter&&(this._data&&this._data.length>0?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=u(this.options.filter),this._hierarchicalFilter=null)),t},remove:function(e){var t,n=e.parentNode(),i=this;return n&&n._initChildren&&(i=n.children),t=ue.fn.remove.call(i,e),n&&!i.data().length&&(n.hasChildren=!1),t},success:V("success"),data:V("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),ue.fn.insert.call(this,e,t)},filter:function(e){return e===t?this._filter:(!this.options.serverFiltering&&this._markHierarchicalQuery(e)&&(e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:e,page:1}),t)},_markHierarchicalQuery:function(t){var n,i,r,s,o,l=this.options.accentFoldingFiltering;return t=l?e.extend({},u(t),{accentFoldingFiltering:l}):u(t),t&&0!==t.filters.length?(n=a.filterExpr(t),r=n.fields,s=n.operators,i=o=Function("d, __f, __o","return "+n.expression),(r.length||s.length)&&(o=function(e){return i(e,r,s)}),this._updateHierarchicalFilter(o),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(e){var t,n,i=this._data,r=!1;for(n=0;n<i.length;n++)t=i[n],t.hasChildren?(t._matchFilter=t.children._updateHierarchicalFilter(e),t._matchFilter||(t._matchFilter=e(t))):t._matchFilter=e(t),t._matchFilter&&(r=!0);return r},_find:function(e,t){var n,i,r,a,s=this._data;if(s){if(r=ue.fn[e].call(this,t))return r;for(s=this._flatData(this._data),n=0,i=s.length;n<i;n++)if(a=s[n].children,a instanceof fe&&(r=a[e](t)))return r}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),fe.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data,i=t.fields,r=t.list;return n&&n._dataSource?n._dataSource:(n||!i||t.transport||r&&(n=$(r,i)),t.data=n,t instanceof fe?t:new fe(t))},he=xe.Observable.extend({init:function(e,t,n){xe.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var i=this;e.bind("change",function(){i._change()}),e.bind("reset",function(){i._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var n=this.pageSize,i=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((e<this.dataOffset||e>=this.skip+n)&&(i=this.range(Math.floor(e/n)*n)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),i?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):t:this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,n=e.skip-e.viewSize+t,i=Ve.max(Ve.floor(n/t),0)*t;this.offset=n,this.dataSource.prefetch(i,t,function(){e._goToRange(n,!0)})},range:function(e,t){if(this.offset===e)return!0;var n=this,i=this.pageSize,r=Ve.max(Ve.floor(e/i),0)*i,a=this.dataSource;return t&&(r+=i),a.inRange(e,i)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):!this.prefetch||(a.prefetch(r,i,function(){n.offset=e,n._recalculate(),n._goToRange(e,!0)}),!1)},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,n=this.skip+t,i=this.dataSource;i.inRange(n,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),i.prefetch(n,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,n=this.viewSize,i=Math.ceil(t/e)*e;this.skip=i,this.midPageThreshold=i+e-1,this.nextPageThreshold=i+n-1,this.prefetchThreshold=i+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=i+e-n,this.nextFullRange=i,this.previousMidRange=t-n,this.previousFullRange=i-e}}),ge=xe.Observable.extend({init:function(e,t){var n=this;xe.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new he(e,3*t),this.buffer.bind({endreached:function(e){n.trigger("endreached",{index:e.index})},prefetching:function(e){n.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){n.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t,n,i=this.buffer,r=e*this.batchSize,a=this.batchSize,s=[];for(i.offset>r&&i.at(i.offset-1),n=0;n<a&&(t=i.at(r+n),null!==t);n++)s.push(t);return s},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),pe(!0,xe.data,{readers:{json:le},Query:a,DataSource:ue,HierarchicalDataSource:fe,Node:ce,ObservableObject:Q,ObservableArray:it,LazyObservableArray:Y,LocalTransport:ae,RemoteTransport:se,Cache:oe,DataReader:le,Model:X,Buffer:he,BatchBuffer:ge})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),!function(e,t){t("kendo.binder.min",["kendo.core.min","kendo.data.min"],e)}(function(){return function(e,t){function n(t,n,i){return _.extend({init:function(e,t,n){var i=this;_.fn.init.call(i,e.element[0],t,n),i.widget=e,i._dataBinding=F(i.dataBinding,i),i._dataBound=F(i.dataBound,i),i._itemChange=F(i.itemChange,i)},itemChange:function(e){s(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[t]._parents()))},dataBinding:function(e){var t,n,i=this.widget,r=e.removedItems||i.items();for(t=0,n=r.length;t<n;t++)u(r[t],!1)},_ns:function(t){t=t||x.ui;var n=[x.ui,x.dataviz.ui,x.mobile.ui];return n.splice(e.inArray(t,n),1),n.unshift(t),x.rolesFromNamespaces(n)},dataBound:function(e){var i,r,a,o,l=this.widget,u=e.addedItems||l.items(),d=l[n],c=x.data.HierarchicalDataSource;if(!(c&&d instanceof c)&&u.length)for(a=e.addedDataItems||d.flatView(),o=this.bindings[t]._parents(),i=0,r=a.length;i<r;i++)u[i]&&s(u[i],a[i],this._ns(e.ns),[a[i]].concat(o))},refresh:function(e){var r,a,s,o,l=this,u=l.widget;e=e||{},e.action||(l.destroy(),u.bind("dataBinding",l._dataBinding),u.bind("dataBound",l._dataBound),u.bind("itemChange",l._itemChange),r=l.bindings[t].get(),u[n]instanceof x.data.DataSource&&u[n]!=r&&(r instanceof x.data.DataSource?u[i](r):r&&r._dataSource?u[i](r._dataSource):(a=x.ui.Select&&u instanceof x.ui.Select,s=x.ui.MultiSelect&&u instanceof x.ui.MultiSelect,o=x.ui.DropDownTree&&u instanceof x.ui.DropDownTree,o?u.treeview[n].data(r):u[n].data(r),l.bindings.value&&(a||s)&&u.value(h(l.bindings.value.get(),u.options.dataValueField)))))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}})}function i(e,t){var n=x.initWidget(e,{},t);if(n)return new w(n)}function r(e){var t,n,i,a,s,o,l,u={};for(l=e.match(S),t=0,n=l.length;t<n;t++)i=l[t],a=i.indexOf(":"),s=i.substring(0,a),o=i.substring(a+1),"{"==o.charAt(0)&&(o=r(o)),u[s]=o;return u}function a(e,t,n){var i,r={};for(i in e)r[i]=new n(t,e[i]);return r}function s(e,t,n,o){var u,d,c,f,h,_,v,y,w;if(e&&!e.getAttribute("data-"+x.ns+"stop")&&(u=e.getAttribute("data-"+x.ns+"role"),c=e.getAttribute("data-"+x.ns+"bind"),f=[],h=!0,v={},o=o||[t],(u||c)&&l(e,!1),u&&(y=i(e,n)),c&&(c=r(c.replace(k,"")),y||(v=x.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:G,valuePrimitive:!1,autoBind:!0},t),v.roles=n,y=new b(e,v)),y.source=t,_=a(c,o,g),v.template&&(_.template=new m(o,"",v.template)),_.click&&(c.events=c.events||{},c.events.click=c.click,_.click.destroy(),delete _.click),_.source&&(h=!1),c.attr&&(_.attr=a(c.attr,o,g)),c.style&&(_.style=a(c.style,o,g)),c.events&&(_.events=a(c.events,o,p)),c.css&&(_.css=a(c.css,o,g)),y.bind(_)),y&&(e.kendoBindingTarget=y),w=e.children,h&&w&&!e.getAttribute("data-"+x.ns+"stop"))){for(d=0;d<w.length;d++)f[d]=w[d];for(d=0;d<f.length;d++)s(f[d],t,n,o)}}function o(t,n){var i,r,a,o=x.rolesFromNamespaces([].slice.call(arguments,2));for(n=x.observable(n),t=e(t),i=0,r=t.length;i<r;i++)a=t[i],1===a.nodeType&&s(a,n,o)}function l(t,n){var i,r=t.kendoBindingTarget;r&&(r.destroy(),H?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null),n&&(i=x.widgetInstance(e(t)),i&&typeof i.destroy===N&&i.destroy())}function u(e,t){l(e,t),d(e,t)}function d(e,t){var n,i,r=e.children;if(r)for(n=0,i=r.length;n<i;n++)u(r[n],t)}function c(t){var n,i;for(t=e(t),n=0,i=t.length;n<i;n++)u(t[n],!1)}function f(e,t){var n=e.element,i=n[0].kendoBindingTarget;i&&o(n,i.source,t)}function h(e,t){var n,i,r=[],a=0;if(!t)return e;if(e instanceof M){for(n=e.length;a<n;a++)i=e[a],r[a]=i.get?i.get(t):i[t];e=r}else e instanceof C&&(e=e.get(t));return e}var g,p,m,_,v,y,b,w,S,k,x=window.kendo,T=x.Observable,C=x.data.ObservableObject,M=x.data.ObservableArray,D={}.toString,z={},P=x.Class,F=e.proxy,O="value",A="source",E="events",I="checked",R="css",H=!0,N="function",G="change";!function(){var e=document.createElement("a");try{delete e.test}catch(e){H=!1}}(),g=T.extend({init:function(e,t){var n=this;
T.fn.init.call(n),n.source=e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof T,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(G,n._change))},_parents:function(){var t,n=this.parents,i=this.get();return i&&"function"==typeof i.parent&&(t=i.parent(),e.inArray(t,n)<0&&(n=[t].concat(n))),n},change:function(e){var t,n,i=e.field,r=this;if("this"===r.path)r.trigger(G,e);else for(t in r.dependencies)if(0===t.indexOf(i)&&(n=t.charAt(i.length),!n||"."===n||"["===n)){r.trigger(G,e);break}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,n=e.source,i=0,r=e.path,a=n;if(!e.observable)return a;for(e.start(e.source),a=n.get(r);a===t&&n;)n=e.parents[++i],n instanceof C&&(a=n.get(r));if(a===t)for(n=e.source;a===t&&n;)n=n.parent(),n instanceof C&&(a=n.get(r));return"function"==typeof a&&(i=r.lastIndexOf("."),i>0&&(n=n.get(r.substring(0,i))),e.start(n),a=n!==e.source?a.call(n,e.source):a.call(n),e.stop(n)),n&&n!==e.source&&(e.currentSource=n,n.unbind(G,e._change).bind(G,e._change)),e.stop(e.source),a},set:function(e){var t=this.currentSource||this.source,n=x.getter(this.path)(t);"function"==typeof n?t!==this.source?n.call(t,this.source,e):n.call(t,e):t.set(this.path,e)},destroy:function(){this.observable&&(this.source.unbind(G,this._change),this.currentSource&&this.currentSource.unbind(G,this._change)),this.unbind()}}),p=g.extend({get:function(){var e,t=this.source,n=this.path,i=0;for(e=t.get(n);!e&&t;)t=this.parents[++i],t instanceof C&&(e=t.get(n));return F(e,t)}}),m=g.extend({init:function(e,t,n){var i=this;g.fn.init.call(i,e,t),i.template=n},render:function(e){var t;return this.start(this.source),t=x.render(this.template,e),this.stop(this.source),t}}),_=P.extend({init:function(e,t,n){this.element=e,this.bindings=t,this.options=n},bind:function(e,t){var n=this;e=t?e[t]:e,e.bind(G,function(e){n.refresh(t||e)}),n.refresh(t)},destroy:function(){}}),v=_.extend({dataType:function(){var e=this.element.getAttribute("data-type")||this.element.type||"text";return e.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){return"date"==t?e=x.parseDate(e,"yyyy-MM-dd"):"datetime-local"==t?e=x.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t?e=x.parseFloat(e):"boolean"==t&&(e=e.toLowerCase(),e=null!==x.parseFloat(e)?!!x.parseFloat(e):"true"===e.toLowerCase()),e}}),z.attr=_.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),z.css=_.extend({init:function(e,t,n){_.fn.init.call(this,e,t,n),this.classes={}},refresh:function(t){var n=e(this.element),i=this.bindings.css[t],r=this.classes[t]=i.get();r?n.addClass(t):n.removeClass(t)}}),z.style=_.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),z.enabled=_.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),z.readonly=_.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),z.disabled=_.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),z.events=_.extend({init:function(e,t,n){_.fn.init.call(this,e,t,n),this.handlers={}},refresh:function(t){var n=e(this.element),i=this.bindings.events[t],r=this.handlers[t];r&&n.off(t,r),r=this.handlers[t]=i.get(),n.on(t,i.source,r)},destroy:function(){var t,n=e(this.element);for(t in this.handlers)n.off(t,this.handlers[t])}}),z.text=_.extend({refresh:function(){var t=this.bindings.text.get(),n=this.element.getAttribute("data-format")||"";null==t&&(t=""),e(this.element).text(x.toString(t,n))}}),z.visible=_.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),z.invisible=_.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),z.html=_.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),z.value=v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=F(this.change,this),this.eventName=i.valueUpdate||G,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=G,this.bindings[O].set(this.parsedValue()),this._initChange=!1},refresh:function(){var e,t;this._initChange||(e=this.bindings[O].get(),null==e&&(e=""),t=this.dataType(),"date"==t?e=x.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=x.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e),this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),z.source=_.extend({init:function(e,t,n){_.fn.init.call(this,e,t,n);var i=this.bindings.source.get();i instanceof x.data.DataSource&&n.autoBind!==!1&&i.fetch()},refresh:function(e){var t=this,n=t.bindings.source.get();n instanceof M||n instanceof x.data.DataSource?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render()):t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,n=this.container().nodeName.toLowerCase();return t||(t="select"==n?e.valueField||e.textField?x.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",t=x.template(t)),t},add:function(t,n){var i,r,a,o,l=this.container(),u=l.cloneNode(!1),d=l.children[t];if(e(u).html(x.render(this.template(),n)),u.children.length)for(i=this.bindings.source._parents(),r=0,a=n.length;r<a;r++)o=u.children[0],l.insertBefore(o,d||null),s(o,n[r],this.options.roles,[n[r]].concat(i))},remove:function(e,t){var n,i,r=this.container();for(n=0;n<t.length;n++)i=r.children[e],u(i,!0),i.parentNode==r&&r.removeChild(i)},render:function(){var t,n,i,r=this.bindings.source.get(),a=this.container(),o=this.template();if(null!=r)if(r instanceof x.data.DataSource&&(r=r.view()),r instanceof M||"[object Array]"===D.call(r)||(r=[r]),this.bindings.template){if(d(a,!0),e(a).html(this.bindings.template.render(r)),a.children.length)for(t=this.bindings.source._parents(),n=0,i=r.length;n<i;n++)s(a.children[n],r[n],this.options.roles,[r[n]].concat(t))}else e(a).html(x.render(o,r))}}),z.input={checked:v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=F(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,n,i=this.element,r=this.value();if("radio"==i.type)r=this.parsedValue(),this.bindings[I].set(r);else if("checkbox"==i.type)if(e=this.bindings[I].get(),e instanceof M){if(r=this.parsedValue(),r instanceof Date){for(n=0;n<e.length;n++)if(e[n]instanceof Date&&+e[n]===+r){t=n;break}}else t=e.indexOf(r);t>-1?e.splice(t,1):e.push(r)}else this.bindings[I].set(r)},refresh:function(){var e,n,i=this.bindings[I].get(),r=i,a=this.dataType(),s=this.element;if("checkbox"==s.type)if(r instanceof M){if(e=-1,i=this.parsedValue(),i instanceof Date){for(n=0;n<r.length;n++)if(r[n]instanceof Date&&+r[n]===+i){e=n;break}}else e=r.indexOf(i);s.checked=e>=0}else s.checked=r;else"radio"==s.type&&("date"==a?i=x.toString(i,"yyyy-MM-dd"):"datetime-local"==a&&(i=x.toString(i,"yyyy-MM-ddTHH:mm:ss")),s.checked=null!==i&&t!==i&&s.value===""+i)},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){e(this.element).off(G,this._change)}})},z.select={source:z.source.extend({refresh:function(n){var i,r=this,a=r.bindings.source.get();a instanceof M||a instanceof x.data.DataSource?(n=n||{},"add"==n.action?r.add(n.index,n.items):"remove"==n.action?r.remove(n.index,n.items):"itemchange"!=n.action&&n.action!==t||(r.render(),r.bindings.value&&r.bindings.value&&(i=h(r.bindings.value.get(),e(r.element).data("valueField")),null===i?r.element.selectedIndex=-1:r.element.value=i))):r.render()}}),value:v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=F(this.change,this),e(this.element).change(this._change)},parsedValue:function(){var e,t,n,i,r=this.dataType(),a=[];for(n=0,i=this.element.options.length;n<i;n++)t=this.element.options[n],t.selected&&(e=t.attributes.value,e=e&&e.specified?t.value:t.text,a.push(this._parseValue(e,r)));return a},change:function(){var e,n,i,r,a,s,o,l,u=[],d=this.element,c=this.options.valueField||this.options.textField,f=this.options.valuePrimitive;for(a=0,s=d.options.length;a<s;a++)n=d.options[a],n.selected&&(r=n.attributes.value,r=r&&r.specified?n.value:n.text,u.push(c?r:this._parseValue(r,this.dataType())));if(c)for(e=this.bindings.source.get(),e instanceof x.data.DataSource&&(e=e.view()),i=0;i<u.length;i++)for(a=0,s=e.length;a<s;a++)if(o=e[a].get(c),l=o+""===u[i]){u[i]=e[a];break}r=this.bindings[O].get(),r instanceof M?r.splice.apply(r,[0,r.length].concat(u)):this.bindings[O].set(f||!(r instanceof C||null===r||r===t)&&c?u[0].get(c):u[0])},refresh:function(){var e,t,n,i=this.element,r=i.options,a=this.bindings[O].get(),s=a,o=this.options.valueField||this.options.textField,l=!1,u=this.dataType();for(s instanceof M||(s=new M([a])),i.selectedIndex=-1,n=0;n<s.length;n++)for(a=s[n],o&&a instanceof C&&(a=a.get(o)),"date"==u?a=x.toString(s[n],"yyyy-MM-dd"):"datetime-local"==u&&(a=x.toString(s[n],"yyyy-MM-ddTHH:mm:ss")),e=0;e<r.length;e++)t=r[e].value,""===t&&""!==a&&(t=r[e].text),null!=a&&t==""+a&&(r[e].selected=!0,l=!0)},destroy:function(){e(this.element).off(G,this._change)}})},z.widget={events:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=F(this.change,this),this.widget.bind(G,this._change)},change:function(){this.bindings[I].set(this.value())},refresh:function(){this.widget.check(this.bindings[I].get()===!0)},value:function(){var e=this.element,t=e.value;return"on"!=t&&"off"!=t&&"checkbox"!=this.element.type||(t=e.checked),t},destroy:function(){this.widget.unbind(G,this._change)}}),start:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this._change=F(this.change,this),this.widget=e,this.widget.bind(G,this._change)},change:function(){this.bindings.start.set(this.widget.range().start)},refresh:function(){var e=this,t=this.bindings.start.get(),n=e.widget._range?e.widget._range.end:null;this.widget.range({start:t,end:n})},destroy:function(){this.widget.unbind(G,this._change)}}),end:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this._change=F(this.change,this),this.widget=e,this.widget.bind(G,this._change)},change:function(){this.bindings.end.set(this.widget.range().end)},refresh:function(){var e=this,t=this.bindings.end.get(),n=e.widget._range?e.widget._range.start:null;this.widget.range({start:n,end:t})},destroy:function(){this.widget.unbind(G,this._change)}}),visible:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:n("source","dataSource","setDataSource"),value:_.extend({init:function(t,n,i){_.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(G,this._change);var r=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(null==r||r instanceof C),this._valueIsObservableArray=r instanceof M,this._initChange=!1},_source:function(){var e;return this.widget.dataItem&&(e=this.widget.dataItem(),e&&e instanceof C)?[e]:(this.bindings.source&&(e=this.bindings.source.get()),(!e||e instanceof x.data.DataSource)&&(e=this.widget.dataSource.flatView()),e)},change:function(){var e,t,n,i,r,a,s,o=this.widget.value(),l=this.options.dataValueField||this.options.dataTextField,u="[object Array]"===D.call(o),d=this._valueIsObservableObject,c=[];if(this._initChange=!0,l)if(""===o&&(d||this.options.valuePrimitive))o=null;else{for(s=this._source(),u&&(t=o.length,c=o.slice(0)),r=0,a=s.length;r<a;r++)if(n=s[r],i=n.get(l),u){for(e=0;e<t;e++)if(i==c[e]){c[e]=n;break}}else if(i==o){o=d?n:i;break}c[0]&&(o=this._valueIsObservableArray?c:d||!l?c[0]:c[0].get(l))}this.bindings.value.set(o),this._initChange=!1},refresh:function(){var e,n,i,r,a,s,o,l,u;if(!this._initChange){if(e=this.widget,n=e.options,i=n.dataTextField,r=n.dataValueField||i,a=this.bindings.value.get(),s=n.text||"",o=0,u=[],a===t&&(a=null),r)if(a instanceof M){for(l=a.length;o<l;o++)u[o]=a[o].get(r);a=u}else a instanceof C&&(s=a.get(i),a=a.get(r));n.autoBind!==!1||n.cascadeFrom||!e.listView||e.listView.bound()?e.value(a):(i!==r||s||(s=a),s||!a&&0!==a||!n.valuePrimitive?e._preselect(a,s):e.value(a))}this._initChange=!1},destroy:function(){this.widget.unbind(G,this._change)}}),dropdowntree:{value:_.extend({init:function(t,n,i){_.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(G,this._change),this._initChange=!1},change:function(){var e,n,i,r,a,s,o,l,u,d=this,c=d.bindings[O].get(),f=d.options.valuePrimitive,h=d.widget.treeview.select(),g=d.widget._isMultipleSelection()?d.widget._getAllChecked():d.widget.treeview.dataItem(h)||d.widget.value(),p=f||d.widget.options.autoBind===!1?d.widget.value():g,m=this.options.dataValueField||this.options.dataTextField;if(p=p.slice?p.slice(0):p,d._initChange=!0,c instanceof M){for(e=[],n=p.length,i=0,r=0,a=c[i],s=!1;a!==t;){for(u=!1,r=0;r<n;r++)if(f?s=p[r]==a:(l=p[r],l=l.get?l.get(m):l,s=l==(a.get?a.get(m):a)),s){p.splice(r,1),n-=1,u=!0;break}u?i+=1:(e.push(a),y(c,i,1),o=i),a=c[i]}y(c,c.length,0,p),e.length&&c.trigger("change",{action:"remove",items:e,index:o}),p.length&&c.trigger("change",{action:"add",items:p,index:c.length-1})}else d.bindings[O].set(p);d._initChange=!1},refresh:function(){if(!this._initChange){var e,t,n=this.options,i=this.widget,r=n.dataValueField||n.dataTextField,a=this.bindings.value.get(),s=a,o=0,l=[];if(r)if(a instanceof M){for(e=a.length;o<e;o++)t=a[o],l[o]=t.get?t.get(r):t;a=l}else a instanceof C&&(a=a.get(r));n.autoBind===!1&&n.valuePrimitive!==!0?i._preselect(s,a):i.value(a)}},destroy:function(){this.widget.unbind(G,this._change)}})},gantt:{dependencies:n("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:_.extend({init:function(t,n,i){_.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(G,this._change),this._initChange=!1},change:function(){var e,n,i,r,a,s,o,l,u,d=this,c=d.bindings[O].get(),f=d.options.valuePrimitive,h=f?d.widget.value():d.widget.dataItems(),g=this.options.dataValueField||this.options.dataTextField;if(h=h.slice(0),d._initChange=!0,c instanceof M){for(e=[],n=h.length,i=0,r=0,a=c[i],s=!1;a!==t;){for(u=!1,r=0;r<n;r++)if(f?s=h[r]==a:(l=h[r],l=l.get?l.get(g):l,s=l==(a.get?a.get(g):a)),s){h.splice(r,1),n-=1,u=!0;break}u?i+=1:(e.push(a),y(c,i,1),o=i),a=c[i]}y(c,c.length,0,h),e.length&&c.trigger("change",{action:"remove",items:e,index:o}),h.length&&c.trigger("change",{action:"add",items:h,index:c.length-1})}else d.bindings[O].set(h);d._initChange=!1},refresh:function(){if(!this._initChange){var e,n,i=this.options,r=this.widget,a=i.dataValueField||i.dataTextField,s=this.bindings.value.get(),o=s,l=0,u=[];if(s===t&&(s=null),a)if(s instanceof M){for(e=s.length;l<e;l++)n=s[l],u[l]=n.get?n.get(a):n;s=u}else s instanceof C&&(s=s.get(a));i.autoBind!==!1||i.valuePrimitive===!0||r._isBound()?r.value(s):r._preselect(o,s)}},destroy:function(){this.widget.unbind(G,this._change)}})},scheduler:{source:n("source","dataSource","setDataSource").extend({dataBound:function(e){var t,n,i,r,a=this.widget,o=e.addedItems||a.items();if(o.length)for(i=e.addedDataItems||a.dataItems(),r=this.bindings.source._parents(),t=0,n=i.length;t<n;t++)s(o[t],i[t],this._ns(e.ns),[i[t]].concat(r))}})},grid:{source:n("source","dataSource","setDataSource").extend({dataBound:function(e){var t,n,i,r,a=this.widget,o=e.addedItems||a.items();if(o.length)for(r=e.addedDataItems||a.dataItems(),i=this.bindings.source._parents(),t=0,n=r.length;t<n;t++)s(o[t],r[t],this._ns(e.ns),[r[t]].concat(i))}})}},y=function(e,t,n,i){var r,a,s,o,l;if(i=i||[],n=n||0,r=i.length,a=e.length,s=[].slice.call(e,t+n),o=s.length,r){for(r=t+r,l=0;t<r;t++)e[t]=i[l],l++;e.length=r}else if(n)for(e.length=t,n+=t;t<n;)delete e[--n];if(o){for(o=t+o,l=0;t<o;t++)e[t]=s[l],l++;e.length=o}for(t=e.length;t<a;)delete e[t],t++},b=P.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,n,i,r,a,s,o=this instanceof w,l=this.binders();for(t in e)t==O?n=!0:t==A?i=!0:t!=E||o?t==I?a=!0:t==R?s=!0:this.applyBinding(t,e,l):r=!0;i&&this.applyBinding(A,e,l),n&&this.applyBinding(O,e,l),a&&this.applyBinding(I,e,l),r&&!o&&this.applyBinding(E,e,l),s&&!o&&this.applyBinding(R,e,l)},binders:function(){return z[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,n){var i,r=n[e]||z[e],a=this.toDestroy,s=t[e];if(r)if(r=new r(this.target,t,this.options),a.push(r),s instanceof g)r.bind(s),a.push(s);else for(i in s)r.bind(s,i),a.push(s[i]);else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;e<t;e++)n[e].destroy()}}),w=b.extend({binders:function(){return z.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,n){var i,r=n[e]||z.widget[e],a=this.toDestroy,s=t[e];if(!r)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(r=new r(this.target,t,this.target.options),a.push(r),s instanceof g)r.bind(s),a.push(s);else for(i in s)r.bind(s,i),a.push(s[i])}}),S=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,k=/\s/g,x.unbind=c,x.bind=o,x.data.binders=z,x.data.Binder=_,x.notify=f,x.observable=function(e){return e instanceof C||(e=new C(e)),e},x.observableHierarchy=function(e){function t(e){var n,i;for(n=0;n<e.length;n++)e[n]._initChildren(),i=e[n].children,i.fetch(),e[n].items=i.data(),t(e[n].items)}var n=x.data.HierarchicalDataSource.create(e);return n.fetch(),t(n.data()),n._data._dataSource=n,n._data}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),!function(e,t){t("kendo.popup.min",["kendo.core.min"],e)}(function(){return function(e,t){function n(t,n){return!(!t||!n)&&(t===n||e.contains(t,n))}var i,r,a,s,o=window.kendo,l=o.ui,u=l.Widget,d=o.Class,c=o.support,f=o.getOffset,h=o._outerWidth,g=o._outerHeight,p="open",m="close",_="deactivate",v="activate",y="center",b="left",w="right",S="top",k="bottom",x="absolute",T="hidden",C="body",M="location",D="position",z="visible",P="effects",F="k-state-active",O="k-state-border",A=/k-state-border-(\w+)/,E=".k-picker-wrap, .k-dropdown-wrap, .k-link",I="down",R=e(document.documentElement),H=e.proxy,N=e(window),G="scroll",q=c.transitions.css,B=q+"transform",L=e.extend,j=".kendoPopup",U=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],W=u.extend({init:function(t,n){var i,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||k+" "+w,n.position=n.position||S+" "+w),u.fn.init.call(r,t,n),t=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],r.downEvent=o.applyEventMap(I,o.guid()),1===r.collisions.length&&r.collisions.push(r.collisions[0]),i=e(r.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),n.appendTo=e(e(n.appendTo)[0]||i[0]||document.body),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:x}).appendTo(n.appendTo).attr("aria-hidden",!0).on("mouseenter"+j,function(){r._hovered=!0}).on("wheel"+j,function(t){var n=e(t.target).find(".k-list"),i=n.parent();n.length&&n.is(":visible")&&(0===i.scrollTop()&&t.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&t.originalEvent.deltaY>0)&&t.preventDefault()}).on("mouseleave"+j,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),L(n.animation.open,{complete:function(){r.wrapper.css({overflow:z}),r._activated=!0,r._trigger(v)}}),L(n.animation.close,{complete:function(){r._animationClose()}}),r._mousedownProxy=function(e){r._mousedown(e)},r._resizeProxy=c.mobileOS.android?function(e){setTimeout(function(){r._resize(e)},600)}:function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+j,e.proxy(r.toggle,r))},events:[p,v,m,_],options:{name:"Popup",toggleEvent:"click",origin:k+" "+b,position:S+" "+b,anchor:C,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var e=this,t=e.wrapper.data(M);e.wrapper.hide(),t&&e.wrapper.css(t),e.options.anchor!=C&&e._hideDirClass(),e._closing=!1,e._trigger(_)},destroy:function(){var t,n=this,i=n.options,r=n.element.off(j);u.fn.destroy.call(n),i.toggleTarget&&e(i.toggleTarget).off(j),i.modal||(R.off(n.downEvent,n._mousedownProxy),n._toggleResize(!1)),o.destroy(n.element.children()),r.removeData(),i.appendTo[0]===document.body&&(t=r.parent(".k-animation-container"),t[0]?t.remove():r.remove())},open:function(n,i){var r,a,s=this,l={isFixed:!isNaN(parseInt(i,10)),x:n,y:i},u=s.element,d=s.options,f=e(d.anchor),h=u[0]&&u.hasClass("km-widget");if(!s.visible()){if(d.copyAnchorStyles&&(h&&"font-size"==U[0]&&U.shift(),u.css(o.getComputedStyles(f[0],U))),u.data("animating")||s._trigger(p))return;s._activated=!1,d.modal||(R.off(s.downEvent,s._mousedownProxy).on(s.downEvent,s._mousedownProxy),s._toggleResize(!1),s._toggleResize(!0)),s.wrapper=a=o.wrap(u,d.autosize).css({overflow:T,display:"block",position:x}).attr("aria-hidden",!1),c.mobileOS.android&&a.css(B,"translatez(0)"),a.css(D),e(d.appendTo)[0]==document.body&&a.css(S,"-10000px"),s.flipped=s._position(l),r=s._openAnimation(),d.anchor!=C&&s._showDirClass(r),u.is(":visible")||u.data("olddisplay")!==t||(u.show(),u.data("olddisplay",u.css("display")),u.hide()),u.data(P,r.effects).kendoStop(!0).kendoAnimate(r).attr("aria-hidden",!1)}},_location:function(t){var n,i,r=this,a=r.element,s=r.options,l=e(s.anchor),u=a[0]&&a.hasClass("km-widget");return s.copyAnchorStyles&&(u&&"font-size"==U[0]&&U.shift(),a.css(o.getComputedStyles(l[0],U))),r.wrapper=n=o.wrap(a,s.autosize).css({overflow:T,display:"block",position:x}),c.mobileOS.android&&n.css(B,"translatez(0)"),n.css(D),e(s.appendTo)[0]==document.body&&n.css(S,"-10000px"),r._position(t||{}),i=n.offset(),{width:o._outerWidth(n),height:o._outerHeight(n),left:i.left,top:i.top}},_openAnimation:function(){var e=L(!0,{},this.options.animation.open);return e.effects=o.parseEffects(e.effects,this.flipped),e},_hideDirClass:function(){var t=e(this.options.anchor),n=((t.attr("class")||"").match(A)||["","down"])[1],i=O+"-"+n;t.removeClass(i).children(E).removeClass(F).removeClass(i),this.element.removeClass(O+"-"+o.directions[n].reverse)},_showDirClass:function(t){var n=t.effects.slideIn?t.effects.slideIn.direction:"down",i=O+"-"+n;e(this.options.anchor).addClass(i).children(E).addClass(F).addClass(i),this.element.addClass(O+"-"+o.directions[n].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){var e=this;e[e.visible()?m:p]()},visible:function(){return this.element.is(":"+z)},close:function(n){var i,r,a,s,l=this,u=l.options;if(l.visible()){if(i=l.wrapper[0]?l.wrapper:o.wrap(l.element).hide(),l._toggleResize(!1),l._closing||l._trigger(m))return l._toggleResize(!0),t;l.element.find(".k-popup").each(function(){var t=e(this),i=t.data("kendoPopup");i&&i.close(n)}),R.off(l.downEvent,l._mousedownProxy),n?r={hide:!0,effects:{}}:(r=L(!0,{},u.animation.close),a=l.element.data(P),s=r.effects,!s&&!o.size(s)&&a&&o.size(a)&&(r.effects=a,r.reverse=!0),l._closing=!0),l.element.kendoStop(!0).attr("aria-hidden",!0),i.css({overflow:T}).attr("aria-hidden",!0),l.element.kendoAnimate(r),n&&l._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;c.resize.indexOf(e.type)!==-1?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(e){var t=e?"on":"off",n=c.resize;c.mobileOS.ios||c.mobileOS.android||c.browser.safari||(n+=" "+G),e&&!this.scrollableParents&&(this.scrollableParents=this._scrollableParents()),this.scrollableParents&&this.scrollableParents.length&&this.scrollableParents[t](G,this._resizeProxy),N[t](n,this._resizeProxy)},_mousedown:function(t){var i=this,r=i.element[0],a=i.options,s=e(a.anchor)[0],l=a.toggleTarget,u=o.eventTarget(t),d=e(u).closest(".k-popup"),c=d.parent().parent(".km-shim").length;d=d[0],!c&&d&&d!==i.element[0]||"popover"!==e(t.target).closest("a").data("rel")&&(n(r,u)||n(s,u)||l&&n(e(l)[0],u)||i.close())},_fit:function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},_flip:function(e,t,n,i,r,a,s){var o=0;return s=s||t,a!==r&&a!==y&&r!==y&&(e+s>i&&(o+=-(n+t)),e+o<0&&(o+=n+t)),o},_scrollableParents:function(){return e(this.options.anchor).parentsUntil("body").filter(function(e,t){return o.isScrollable(t)})},_position:function(t){var n,i,r,a,s,l,u,d,p,m,_,v,y,b,w,S,k,T=this,C=T.element,z=T.wrapper,P=T.options,F=e(P.viewport),O=c.zoomLevel(),A=!!(F[0]==window&&window.innerWidth&&O<=1.02),E=e(P.anchor),I=P.origin.toLowerCase().split(" "),R=P.position.toLowerCase().split(" "),H=T.collisions,N=10002,G=0,q=document.documentElement;if(s=P.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:F.offset(),A?(l=window.innerWidth,u=window.innerHeight):(l=F.width(),u=F.height()),A&&q.scrollHeight-q.clientHeight>0&&(d=P.isRtl?-1:1,l-=d*o.support.scrollbar()),n=E.parents().filter(z.siblings()),n[0])if(r=Math.max(+n.css("zIndex"),0))N=r+10;else for(i=E.parentsUntil(n),a=i.length;G<a;G++)r=+e(i[G]).css("zIndex"),r&&N<r&&(N=r+10);return z.css("zIndex",N),z.css(t&&t.isFixed?{left:t.x,top:t.y}:T._align(I,R)),p=f(z,D,E[0]===z.offsetParent()[0]),m=f(z),_=E.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),_.length&&(p=f(z,D,!0),m=f(z)),m.top-=s.top,m.left-=s.left,T.wrapper.data(M)||z.data(M,L({},p)),v=L({},m),y=L({},p),b=P.adjustSize,"fit"===H[0]&&(y.top+=T._fit(v.top,g(z)+b.height,u/O)),"fit"===H[1]&&(y.left+=T._fit(v.left,h(z)+b.width,l/O)),w=L({},y),S=g(C),k=g(z),!z.height()&&S&&(k+=S),"flip"===H[0]&&(y.top+=T._flip(v.top,S,g(E),u/O,I[0],R[0],k)),"flip"===H[1]&&(y.left+=T._flip(v.left,h(C),h(E),l/O,I[1],R[1],h(z))),C.css(D,x),z.css(y),y.left!=w.left||y.top!=w.top},_align:function(t,n){var i,r=this,a=r.wrapper,s=e(r.options.anchor),o=t[0],l=t[1],u=n[0],d=n[1],c=f(s),p=e(r.options.appendTo),m=h(a),_=g(a)||g(a.children().first()),v=h(s),b=g(s),S=c.top,x=c.left,T=Math.round;return p[0]!=document.body&&(i=f(p),S-=i.top,x-=i.left),o===k&&(S+=b),o===y&&(S+=T(b/2)),u===k&&(S-=_),u===y&&(S-=T(_/2)),l===w&&(x+=v),l===y&&(x+=T(v/2)),d===w&&(x-=m),d===y&&(x-=T(m/2)),{top:S,left:x}}});l.plugin(W),i=o.support.stableSort,r="kendoTabKeyTrap",a="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]",s=d.extend({init:function(t){this.element=e(t),this.element.autoApplyNS(r)},trap:function(){this.element.on("keydown",H(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(r)},destroy:function(){this.element.kendoDestroy(r),this.element=t},shouldTrap:function(){return!0},_keepInTrap:function(e){var t,n,i;9===e.which&&this.shouldTrap()&&!e.isDefaultPrevented()&&(t=this._focusableElements(),n=this._sortFocusableElements(t),i=this._nextFocusable(e,n),this._focus(i),e.preventDefault())},_focusableElements:function(){var t=this.element.find(a).filter(function(t,n){return n.tabIndex>=0&&e(n).is(":visible")&&!e(n).is("[disabled]")});return this.element.is("[tabindex]")&&t.push(this.element[0]),t},_sortFocusableElements:function(e){var t,n;return i?t=e.sort(function(e,t){return e.tabIndex-t.tabIndex}):(n="__k_index",e.each(function(e,t){t.setAttribute(n,e)}),t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(n),10)-parseInt(t.getAttribute(n),10):e.tabIndex-t.tabIndex}),e.removeAttr(n)),t},_nextFocusable:function(e,t){var n=t.length,i=t.index(e.target);return t.get((i+(e.shiftKey?-1:1))%n)},_focus:function(e){return"IFRAME"==e.nodeName?(e.contentWindow.document.body.focus(),t):(e.focus(),"INPUT"==e.nodeName&&e.setSelectionRange&&this._haveSelectionRange(e)&&e.setSelectionRange(0,e.value.length),t)},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return"text"===t||"search"===t||"url"===t||"tel"===t||"password"===t}}),l.Popup.TabKeyTrap=s}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),!function(e,t){t("kendo.pager.min",["kendo.data.min"],e)}(function(){return function(e,t){function n(e,t,n,i,r){return e({idx:t,text:n,ns:d.ns,numeric:i,title:r||""})}function i(e,t,n,i){return e({idx:t,text:n||t,selected:i||!1})}function r(e,t,n){return C({className:e.substring(1),text:t,wrapClassName:n||""})}function a(e,t,n,i){e.find(t).parent().attr(d.attr("page"),n).attr("tabindex",-1).toggleClass("k-state-disabled",i)}function s(e,t){a(e,g,1,t<=1)}function o(e,t){a(e,m,Math.max(1,t-1),t<=1)}function l(e,t,n){a(e,_,Math.min(n,t+1),t>=n)}function u(e,t,n){a(e,p,n,t>=n)}var d=window.kendo,c=d.ui,f=c.Widget,h=e.proxy,g=".k-i-arrow-end-left",p=".k-i-arrow-end-right",m=".k-i-arrow-60-left",_=".k-i-arrow-60-right",v="k-pager-md k-pager-sm",y="change",b=".kendoPager",w="click",S="keydown",k="disabled",x="down",T=Number.MAX_VALUE,C=d.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>'),M=f.extend({init:function(t,n){var i,a,c,v,k=this,T=null;f.fn.init.call(k,t,n),n=k.options,k._createDataSource(n),k.linkTemplate=d.template(k.options.linkTemplate),k.selectTemplate=d.template(k.options.selectTemplate),k.currentPageTemplate=d.template(k.options.currentPageTemplate),k.numericSelectItemTemplate=d.template(k.options.numericSelectItemTemplate),i=k.page(),a=k.totalPages(),k._refreshHandler=h(k.refresh,k),k.dataSource.bind(y,k._refreshHandler),k.downEvent=d.applyEventMap(x,d.guid()),n.previousNext&&(k.element.find(g).length||(k.element.append(r(g,n.messages.first,"k-pager-first")),s(k.element,i,a)),k.element.find(m).length||(k.element.append(r(m,n.messages.previous)),o(k.element,i,a))),n.numeric&&(k._numericWrap||(k._numericWrap=k.element.find(".k-pager-numbers-wrap"),0===k._numericWrap.length&&(k._numericWrap=e("<div class='k-pager-numbers-wrap' />").appendTo(k.element))),k._numericSelect||(k._numericSelect=k._numericWrap.find(".k-dropdown"),0===k._numericSelect.length&&(k._numericSelect=e("<select class='k-dropdown' />").appendTo(k._numericWrap))),k.list||(k.list=k._numericWrap.find(".k-pager-numbers"),0===k.list.length&&(k.list=e('<ul class="k-pager-numbers" />').appendTo(k._numericWrap))),n.dataSource&&!n.dataSource.total()&&(k._numericSelect.empty().append("<option value='0' />"),k.list.empty().append(k.selectTemplate({text:0})))),n.input&&(k.element.find(".k-pager-input").length||k.element.append('<span class="k-pager-input k-label">'+n.messages.page+'<input class="k-textbox">'+d.format(n.messages.of,a)+"</span>"),
k.element.on(S+b,".k-pager-input input",h(k._keydown,k))),n.previousNext&&(k.element.find(_).length||(k.element.append(r(_,n.messages.next)),l(k.element,i,a)),k.element.find(p).length||(k.element.append(r(p,n.messages.last,"k-pager-last")),u(k.element,i,a))),n.pageSizes&&(k.element.find(".k-pager-sizes").length||(c=n.pageSizes.length?n.pageSizes:["all",5,10,20],v=e.map(c,function(e){return e.toLowerCase&&"all"===e.toLowerCase()?"<option value='all'>"+n.messages.allPages+"</option>":"<option>"+e+"</option>"}),e('<span class="k-pager-sizes k-label"><select></select>'+n.messages.itemsPerPage+"</span>").appendTo(k.element).find("select").html(v.join("")).end().appendTo(k.element)),k.element.find(".k-pager-sizes select").val(k.pageSize()),d.ui.DropDownList&&k.element.find(".k-pager-sizes select").show().kendoDropDownList(),k.element.on(y+b,".k-pager-sizes select",h(k._change,k))),n.refresh&&(k.element.find(".k-pager-refresh").length||k.element.append('<a href="#" class="k-pager-refresh k-link" title="'+n.messages.refresh+'" aria-label="'+n.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>'),k.element.on(w+b,".k-pager-refresh",h(k._refreshClick,k))),n.info&&(k.element.find(".k-pager-info").length||k.element.append('<span class="k-pager-info k-label" />')),k.element.on(w+b,"a",h(k._click,k)).on(y+b,"select.k-dropdown",h(k._numericSelectChange,k)).addClass("k-pager-wrap k-widget k-floatwrap"),n.autoBind&&k.refresh(),k._resizeHandler=h(k.resize,k,!0),e(window).on("resize"+b,k._resizeHandler),T=k._getWidthSizeClass(k.element.width()),T&&k.element.addClass(T),d.notify(k)},destroy:function(){var t=this;f.fn.destroy.call(t),t.element.off(b),t.dataSource.unbind(y,t._refreshHandler),t._refreshHandler=null,e(window).off("resize"+b,this._resizeHandler),d.destroy(t.element),t.element=t.list=null},events:[y],options:{name:"Pager",selectTemplate:'<li><span class="k-link k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',numericItemTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',numericSelectItemTemplate:'<option value="#= idx #" #if (selected) {# selected="selected" #}#>#= text #</option>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,responsive:!0,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){var t=this;t.dataSource.unbind(y,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(y,t._refreshHandler),t.options.autoBind&&e.fetch()},_resize:function(e){var t,n;e.width&&(t=this._getWidthSizeClass(e.width),n=this.element,t?n.hasClass(t)||(n.removeClass(v),n.addClass(t)):n.removeClass(v))},_createDataSource:function(e){this.dataSource=d.data.DataSource.create(e.dataSource)},refresh:function(t){var r,a,c,f,h,g,p=this,m=1,_=p.page(),v="",y="",b=p.options,w=p.pageSize(),S=p._collapsedTotal(),x=p.dataSource._isGroupPaged()?p.dataSource.groupsTotal():p.dataSource.total(),C=p.totalPages(),M=p.linkTemplate,D=p.numericSelectItemTemplate,z=b.buttonCount;if(!t||"itemchange"!=t.action){if(b.numeric){for(_>z&&(c=_%z,m=0===c?_-z+1:_-c+1),a=Math.min(m+z-1,C),m>1&&(v+=n(M,m-1,"...",!1,b.messages.morePages),y+=i(D,m-1,b.messages.morePages)),r=m;r<=a;r++)v+=n(r==_?p.selectTemplate:M,r,r,!0),y+=i(D,r,r,r==_);a<C&&(v+=n(M,r,"...",!1,b.messages.morePages),y+=i(D,r,b.messages.morePages)),""===v&&(v=p.selectTemplate({text:0}),y=e("<option value='0' />")),p.list.html(v),p._numericSelect.html(y)}b.info&&(v=x>0?d.format(b.messages.display,p.dataSource.options.endless?1:Math.min((_-1)*(p.dataSource.pageSize()||0)+1,S),Math.min(_*w,S),x):b.messages.empty,p.element.find(".k-pager-info").html(v)),b.input&&p.element.find(".k-pager-input").html(p.options.messages.page+'<input class="k-textbox" aria-label="'+_+'">'+d.format(b.messages.of,C)).find("input").val(_).attr(k,x<1).toggleClass("k-state-disabled",x<1),b.previousNext&&(s(p.element,_,C),o(p.element,_,C),l(p.element,_,C),u(p.element,_,C)),b.pageSizes&&(f=p.element.find(".k-pager-sizes option[value='all']").length>0,h=f&&(w===this.dataSource.total()||w==T),g=w,h&&(w="all",g=b.messages.allPages),p.element.find(".k-pager-sizes select").val(w).attr("aria-label",w).filter("["+d.attr("role")+"=dropdownlist]").kendoDropDownList("value",w).kendoDropDownList("text",g))}},_collapsedTotal:function(){return this.dataSource.total()},_keydown:function(e){if(e.keyCode===d.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),n=parseInt(t.val(),10);(isNaN(n)||n<1||n>this.totalPages())&&(n=this.page()),t.val(n),this.page(n)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var n=e.currentTarget.value,i=parseInt(n,10),r=this.dataSource;isNaN(i)?"all"==(n+"").toLowerCase()&&(r._pageSize=t,r._take=t,r._skip=0,r.fetch()):r.pageSize(i)},_numericSelectChange:function(e){var t=e.currentTarget,n=t.value,i=parseInt(n,10);t.blur(),this.page(i)},_click:function(t){var n=e(t.currentTarget);t.preventDefault(),n.is(".k-state-disabled")||this.page(parseInt(n.attr(d.attr("page")),10))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e?(this.trigger("pageChange",{index:e})||(this.dataSource.page(e),this.trigger(y,{index:e})),t):this.dataSource.total()>0?this.dataSource.page():0},_getWidthSizeClass:function(e){var t=this,n=v.split(" ");return t.options.responsive?e<=480?n[1]:e<=600?n[0]:null:null}});c.plugin(M)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),!function(e,t){t("kendo.listview.min",["kendo.data.min","kendo.editable.min","kendo.selectable.min"],e)}(function(){return function(e,t){var n=window.kendo,i="change",r="kendoKeydown",a="cancel",s="dataBound",o="dataBinding",l=n.ui.Widget,u=n.keys,d="",c=".k-listview-content > *:not(.k-loading-mask)",f="progress",h="error",g="k-state-focused",p="k-state-selected",m="k-edit-item",_="edit",v="remove",y="save",b="mousedown",w="click",S="touchstart",k=".kendoListView",x=e.proxy,T=n._activeElement,C=n.ui.progress,M=n.data.DataSource,D=n.ui.DataBoundWidget.extend({init:function(t,i){var r=this;i=e.isArray(i)?{dataSource:i}:i,l.fn.init.call(r,t,i),i=r.options,r.wrapper=t=r.element,t[0].id&&(r._itemId=t[0].id+"_lv_active"),r._element(),r._layout(),r._dataSource(),r._templates(),r._navigatable(),r._selectable(),r._pageable(),r._crudHandlers(),r._scrollable(),r.options.autoBind&&r.dataSource.fetch(),n.notify(r)},events:[i,a,o,s,_,v,y,r],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,height:null,template:d,altTemplate:d,editTemplate:d,contentTemplate:"<div data-content='true' />",bordered:!0,borders:"",layout:"",flex:{direction:"row",wrap:"nowrap"},grid:{}},setOptions:function(e){l.fn.setOptions.call(this,e),this._layout(),this._templates(),this.selectable&&(this.selectable.destroy(),this.selectable=null),this._selectable()},_templates:function(){var e=this.options;this.template=n.template(e.template||d),this.altTemplate=n.template(e.altTemplate||e.template),this.editTemplate=n.template(e.editTemplate||d)},_item:function(e){return this.content.children()[e]()},items:function(){return this.content.children()},dataItem:function(t){var i=n.attr("uid"),r=e(t).closest("["+i+"]").attr(i);return this.dataSource.getByUid(r)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(i,e._refreshHandler).unbind(f,e._progressHandler).unbind(h,e._errorHandler)},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=x(e.refresh,e),e._progressHandler=x(e._progress,e),e._errorHandler=x(e._error,e)),e.dataSource=M.create(e.options.dataSource).bind(i,e._refreshHandler).bind(f,e._progressHandler).bind(h,e._errorHandler)},_progress:function(e){var t=this.content;C(t,e,{opacity:!0})},_error:function(){C(this.content,!1)},_element:function(){var t=this.options,n=t.height;this.element.addClass("k-widget k-listview").attr("role","listbox"),this.content=e("<div />").appendTo(this.element),n&&this.element.css("height",n)},_layout:function(){var e=this,n=e.options,i=n.flex,r=n.grid,a=e.element,s=["k-widget","k-listview"],o=e.content,l=["k-listview-content"];a.add(o).removeClass(function(e,t){if(t.indexOf("k-")>=0)return!0}),n.bordered===!0&&s.push("k-listview-bordered"),"string"==typeof n.borders&&n.borders!==d&&s.push("k-listview-borders-"+n.borders),"string"==typeof n.contentPadding&&n.contentPadding!==d&&l.push("k-listview-content-padding-"+n.contentPadding),"string"==typeof n.layout&&n.layout!==d&&l.push("k-d-"+n.layout),"flex"===n.layout&&"object"==typeof i&&("string"==typeof i.direction&&""!==i.direction&&l.push("k-flex-"+i.direction),"string"==typeof i.wrap&&""!==i.wrap&&l.push("k-flex-"+i.wrap)),"grid"===n.layout&&"object"==typeof r&&("number"==typeof r.cols?o.css("grid-template-columns","repeat("+r.cols+", 1fr)"):"string"==typeof r.cols&&o.css("grid-template-columns",r.cols),"number"==typeof r.rows?o.css("grid-template-rows","repeat("+r.rows+", "+(r.rowHeight!==t?r.rowHeight:"1fr")+")"):"string"==typeof r.rows&&o.css("grid-template-rows",r.rows),"number"==typeof r.gutter?o.css("grid-gap",r.gutter):"string"==typeof r.gutter&&o.css("grid-gap",r.gutter)),e.element.addClass(s.join(" ")),e.content.addClass(l.join(" "))},refresh:function(e){var i,r,a,l,u,d=this,c=d.dataSource.view(),f="",h=d.template,g=d.altTemplate,p=T(),m=d._endlessFetchInProgress,_=m?d._skipRerenderItemsCount:0,v=d.options.scrollable;if(e=e||{},"itemchange"===e.action)return d._hasBindingTarget()||d.editable||(i=e.items[0],a=d.items().filter("["+n.attr("uid")+"="+i.uid+"]"),a.length>0&&(l=a.index(),d.angular("cleanup",function(){return{elements:[a]}}),a.replaceWith(h(i)),a=d.items().eq(l),a.attr(n.attr("uid"),i.uid),d.angular("compile",function(){return{elements:[a],data:[{dataItem:i}]}}),d.trigger("itemChange",{item:a,data:i}))),t;if(!d.trigger(o,{action:e.action||"rebind",items:e.items,index:e.index})){for(d._angularItems("cleanup"),m||d._destroyEditable(),l=_,u=c.length;l<u;l++)f+=l%2?g(c[l]):h(c[l]);for(m?d.content.append(f):d.content.html(f),r=d.items().not(".k-loading-mask"),l=_,u=c.length;l<u;l++)r.eq(l).attr(n.attr("uid"),c[l].uid).attr("role","option").attr("aria-selected","false");d.content[0]===p&&d.options.navigatable&&(d._focusNext?d.current(d.current().next()):v||d.current(r.eq(0))),d._angularItems("compile"),d._progress(!1),d._endlessFetchInProgress=null,d.trigger(s,{action:e.action||"rebind",items:e.items,index:e.index})}},_pageable:function(){var t,i,r=this,a=r.options.pageable;e.isPlainObject(a)&&(i=a.pagerId,t=e.extend({},a,{dataSource:r.dataSource,pagerId:null}),r.pager=new n.ui.Pager(e("#"+i),t))},_selectable:function(){var e,r,a=this,s=a.options.selectable,o=a.options.navigatable;s&&(e=n.ui.Selectable.parseOptions(s).multiple,a.selectable=new n.ui.Selectable(a.element,{aria:!0,multiple:e,filter:c,change:function(){a.trigger(i)}}),o&&a.element.on("keydown"+k,function(n){if(n.keyCode===u.SPACEBAR){if(r=a.current(),n.target==n.currentTarget&&n.preventDefault(),e)if(n.ctrlKey){if(r&&r.hasClass(p))return r.removeClass(p),t}else a.selectable.clear();else a.selectable.clear();a.selectable.value(r)}}))},_scrollable:function(){var e,t=this,n=t.options.scrollable;n&&(t.content.css({"overflow-y":"scroll",position:"relative","-webkit-overflow-scrolling":"touch"}),"endless"===n&&(e=t._endlessPageSize=t.dataSource.options.pageSize,t.content.off("scroll"+k).on("scroll"+k,function(){this.scrollTop+this.clientHeight-this.scrollHeight>=-15&&!t._endlessFetchInProgress&&t._endlessPageSize<t.dataSource.total()&&(t._skipRerenderItemsCount=t._endlessPageSize,t._endlessPageSize=t._skipRerenderItemsCount+e,t.dataSource.options.endless=!0,t._endlessFetchInProgress=!0,t.dataSource.pageSize(t._endlessPageSize))})))},current:function(e){var n=this,i=n.element,r=n._current,a=n._itemId;return e===t?r:(r&&r[0]&&(r[0].id===a&&r.removeAttr("id"),r.removeClass(g),i.removeAttr("aria-activedescendant")),e&&e[0]&&(a=e[0].id||a,n._scrollTo(e[0]),i.attr("aria-activedescendant",a),e.addClass(g).attr("id",a)),n._current=e,t)},_scrollTo:function(t){var n,i,r=this,a=r.content,s=!1,o="scroll";"auto"===a.css("overflow")||a.css("overflow")===o||a.css("overflow-y")===o?n=a[0]:(n=window,s=!0),i=function(i,r){var a=s?e(t).offset()[i.toLowerCase()]:t["offset"+i],l=t["client"+r],u=e(n)[o+i](),d=e(n)[r.toLowerCase()]();a+l>u+d?e(n)[o+i](a+l-d):a<u&&e(n)[o+i](a)},i("Top","Height"),i("Left","Width")},_navigatable:function(){var t=this,i=t.options.navigatable,r=t.element,a=t.content,s=function(i){t.current(e(i.currentTarget)),e(i.target).is(":button, a, :input, a > .k-icon, textarea")||n.focusElement(r)};i&&(t._tabindex(),r.on("focus"+k,function(){var e=t._current;e&&e.is(":visible")||(e=t._item("first")),t.current(e)}).on("focusout"+k,function(){t._current&&t._current.removeClass(g)}).on("keydown"+k,t,function(i){var r,s,o=i.keyCode,l=t.current(),d=e(i.target),c=!d.is(":button, textarea, a, a > .t-icon, input"),f=d.is(":text, :password"),h=n.preventDefault,g=a.find("."+m),p=T(),_=t.options.scrollable;if(!(!c&&!f&&o!==u.ESC||f&&o!==u.ESC&&o!==u.ENTER)&&(o!==u.UP&&o!==u.LEFT||(l&&l[0]&&(l=l.prev()),l&&l[0]?t.current(l):_||t.current(t._item("last")),h(i)),o!==u.DOWN&&o!==u.RIGHT||(_?"endless"!==t.options.scrollable||l.next().length?(l=l.next(),l&&l[0]&&t.current(l)):(t.content[0].scrollTop=t.content[0].scrollHeight,t._focusNext=!0):(l=l.next(),t.current(l&&l[0]?l:t._item("first"))),h(i)),o===u.PAGEUP&&(t.current(null),t.dataSource.page(t.dataSource.page()-1),h(i)),o===u.PAGEDOWN&&(t.current(null),t.dataSource.page(t.dataSource.page()+1),h(i)),o===u.HOME&&(t.current(t._item("first")),h(i)),o===u.END&&(t.current(t._item("last")),h(i)),o===u.ENTER&&(0!==g.length&&(c||f)?(r=t.items().index(g),p&&p.blur(),t.save(),s=function(){t.element.trigger("focus"),t.current(t.items().eq(r))},t.one("dataBound",s)):""!==t.options.editTemplate&&t.edit(l)),o===u.ESC)){if(g=a.find("."+m),0===g.length)return;r=t.items().index(g),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(r))}}),r.on(b+k+" "+S+k,c,x(s,t)))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(i)},select:function(n){var i=this,r=i.selectable;return n=e(n),n.length?(r.options.multiple||(r.clear(),n=n.first()),r.value(n),t):r.value()},_destroyEditable:function(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable)},_modelFromElement:function(e){var t=e.attr(n.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(){var e,t,i,r=this,a=r.editable,s=r.template;return a&&(a.element.index()%2&&(s=r.altTemplate),r.angular("cleanup",function(){return{elements:[a.element]}}),e=r._modelFromElement(a.element),r._destroyEditable(),i=a.element.index(),a.element.replaceWith(s(e)),t=r.items().eq(i),t.attr(n.attr("uid"),e.uid),t.attr("role","option"),r._hasBindingTarget()&&n.bind(t,e),r.angular("compile",function(){return{elements:[t],data:[{dataItem:e}]}})),!0},edit:function(e){var t,i,r=this,a=r._modelFromElement(e),s=a.uid;r.cancel(),e=r.items().filter("["+n.attr("uid")+"="+s+"]"),i=e.index(),e.replaceWith(r.editTemplate(a)),t=r.items().eq(i).addClass(m).attr(n.attr("uid"),a.uid),r.editable=t.kendoEditable({model:a,clearContainer:!1,errorTemplate:!1,target:r}).data("kendoEditable"),r.trigger(_,{model:a,item:t})},save:function(){var e,t,n=this,i=n.editable;i&&(t=i.element,e=n._modelFromElement(t),i.end()&&!n.trigger(y,{model:e,item:t})&&(n._closeEditable(),n.dataSource.sync()))},remove:function(e){var t=this,n=t.dataSource,i=t._modelFromElement(e);t.editable&&(n.cancelChanges(t._modelFromElement(t.editable.element)),t._closeEditable()),t.trigger(v,{model:i,item:e})||(e.hide(),n.remove(i),n.sync())},add:function(){var e,t=this,n=t.dataSource,i=n.indexOf((n.view()||[])[0]);i<0&&(i=0),t.cancel(),e=n.insert(i,{}),t.edit(t.element.find("[data-uid='"+e.uid+"']"))},cancel:function(){var e,t,n=this,i=n.dataSource;n.editable&&(e=n.editable.element,t=n._modelFromElement(e),n.trigger(a,{model:t,container:e})||(i.cancelChanges(t),n._closeEditable()))},_crudHandlers:function(){var t=this,i=b+k,r=S+k,a=w+k;t.content.on(i+" "+r,".k-edit-button",function(i){i.preventDefault();var r=e(this).closest("["+n.attr("uid")+"]");setTimeout(function(){t.edit(r)})}),t.content.on(i+" "+r,".k-delete-button",function(i){i.preventDefault();var r=e(this).closest("["+n.attr("uid")+"]");setTimeout(function(){t.remove(r)})}),t.content.on(a,".k-update-button",function(e){t.save(),e.preventDefault()}),t.content.on(a,".k-cancel-button",function(e){t.cancel(),e.preventDefault()})},destroy:function(){var e=this;l.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(k),e.content.off(k),e._endlessFetchInProgress=e._endlessPageSize=e._skipRerenderItemsCount=e._focusNext=null,e.pager&&e.pager.destroy(),n.destroy(e.element)}});n.ui.plugin(D)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});